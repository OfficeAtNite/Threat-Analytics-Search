(()=>{"use strict";var e,t={556:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(15),l=n.n(a),i=n(645),r=n.n(i)()(l());r.push([e.id,'html.page-options {\n  font-size: 15px;\n}\n\nhtml.page-options h2 {\n  font-size: 1.4rem;\n}\nhtml.page-options h3 {\n  font-size: 1.25rem;\n}\n\n.text-black {\n  color: #000;\n}\n.text-line-through {\n  text-decoration: line-through;\n}\n.text-monospace {\n  font-family: "Consolas", "Lucida Console", "monospace";\n}\n\n.text-small {\n  font-size: 0.85em;\n}\n.text-large {\n  font-size: 1.2em;\n}\n.text-extra-large {\n  font-size: 1.4em;\n}\n\n.flex-1 {\n  flex: 1;\n}\n.flex-2 {\n  flex: 2;\n}\n\n.form-control-small {\n  font-size: 0.9em;\n  height: auto;\n}\n\n.sortable-handle {\n  cursor: grab;\n}\n\n.sortable:nth-child(even) {\n  background-color: #f4f4f4;\n}\n.sortable-chosen,\n.sortable.sortable-chosen {\n  background-color: #dfd;\n}\n.sortable-ghost,\n.sortable.sortable-ghost {\n  background-color: #ddf;\n}\n',"",{version:3,sources:["webpack://./src/css/main.css"],names:[],mappings:"AAAA;EACE,eAAe;AACjB;;AAEA;EACE,iBAAiB;AACnB;AACA;EACE,kBAAkB;AACpB;;AAEA;EACE,WAAW;AACb;AACA;EACE,6BAA6B;AAC/B;AACA;EACE,sDAAsD;AACxD;;AAEA;EACE,iBAAiB;AACnB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;AAClB;;AAEA;EACE,OAAO;AACT;AACA;EACE,OAAO;AACT;;AAEA;EACE,gBAAgB;EAChB,YAAY;AACd;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,yBAAyB;AAC3B;AACA;;EAEE,sBAAsB;AACxB;AACA;;EAEE,sBAAsB;AACxB",sourcesContent:['html.page-options {\n  font-size: 15px;\n}\n\nhtml.page-options h2 {\n  font-size: 1.4rem;\n}\nhtml.page-options h3 {\n  font-size: 1.25rem;\n}\n\n.text-black {\n  color: #000;\n}\n.text-line-through {\n  text-decoration: line-through;\n}\n.text-monospace {\n  font-family: "Consolas", "Lucida Console", "monospace";\n}\n\n.text-small {\n  font-size: 0.85em;\n}\n.text-large {\n  font-size: 1.2em;\n}\n.text-extra-large {\n  font-size: 1.4em;\n}\n\n.flex-1 {\n  flex: 1;\n}\n.flex-2 {\n  flex: 2;\n}\n\n.form-control-small {\n  font-size: 0.9em;\n  height: auto;\n}\n\n.sortable-handle {\n  cursor: grab;\n}\n\n.sortable:nth-child(even) {\n  background-color: #f4f4f4;\n}\n.sortable-chosen,\n.sortable.sortable-chosen {\n  background-color: #dfd;\n}\n.sortable-ghost,\n.sortable.sortable-ghost {\n  background-color: #ddf;\n}\n'],sourceRoot:""}]);const o=r},80:(e,t,n)=>{n(802),n(319),n(372);var a=n(379),l=n.n(a),i=n(556);l()(i.Z,{insert:"head",singleton:!1}),i.Z.locals;var r=n(234),o=n(486),s=n.n(o);const c={ABOUT_US_URL:"https://www.criticalstart.com/company/",CRITICALSTART_URL:"https://www.criticalstart.com",EXTENSION_HOME_URL:"https://github.com/AdvancedThreatAnalytics/threat-analytics-search",INSTALLED_URL:"https://www.criticalstart.com/threat-analytics-chrome-plugin/",ISSUES_URL:"https://github.com/AdvancedThreatAnalytics/threat-analytics-search/issues",RELEASES_URL:"https://github.com/AdvancedThreatAnalytics/threat-analytics-search/releases"},u={CARBON_BLACK:"carbon_black",LAST_CONFIG_DATA:"last_config_data",NET_WITNESS:"netwitness_investigator",RSA_SECURITY:"rsa_security_analytics",SEARCH_PROVIDERS:"search_providers",SETTINGS:"settings"},d=[{key:"configurationURL",label:"File URL",type:"input",validateEmpty:!0,validateUrl:!0},{key:"configEncrypted",label:"Encrypted",type:"checkbox"},{key:"configEncryptionKey",label:"Encryption Key",type:"input",validateEmpty:!0,validateOn:"configEncrypted"},{key:"autoUpdateConfig",label:"Update periodically (once per week)",type:"checkbox"},{key:"lastConfigUpdate",label:"Last Updated on:",type:"text"}],f=[{key:"CBCConfigEnable",type:"checkbox",label:"Enable Carbon Black Settings"},{key:"CBCConfigUseHttps",type:"checkbox",label:"HTTPS (SSL) Enabled"},{key:"CBCConfigHost",type:"text",label:"Carbon Black Hostname or IP Address"},{key:"CBCConfigPort",type:"text",label:"Port Number (Leave blank if port 80 and HTTP or port 443 and HTTPS)"},{key:"CBCConfigURLVersion",type:"text",label:"Carbon Black URL Version (Default is 1)"},{key:"CBCConfigNewTab",type:"checkbox",label:"Switch Focus to New Tab"},{key:"CBCConfigPopup",type:"checkbox",label:"Enable debug popup window"}],p=[{key:"NWIConfigEnable",type:"checkbox",label:"Enable NetWitness Investigator Settings"},{key:"NWIConfigExampleLink",type:"text",label:"Paste example link from NetWitness Investigator to autofill settings",autofiller:!0,placeholder:"e.g. https://netwitness.com:81/?collection=12"},{key:"NWIConfigHost",type:"text",label:"Host (IP Address/Hostname)"},{key:"NWIConfigPort",type:"text",label:"Port Number"},{key:"NWIConfigCollectionName",type:"text",label:"Collection Name"},{key:"NWIConfigGMT",type:"checkbox",label:"Use GMT time (no time zone adjustment)"},{key:"NWIConfigRange1",type:"number",label:"Search Range 1 in Hour(s)"},{key:"NWIConfigRange2",type:"number",label:"Search Range 2 in Hour(s)"},{key:"NWIConfigRange3",type:"number",label:"Search Range 3 in Hour(s)"},{key:"NWIConfigRange4",type:"number",label:"Search Range 4 in Hour(s)"},{key:"NWIConfigPopup",type:"checkbox",label:"Enable debug popup window"}],b=[{key:"merge",label:"Merge"},{key:"override",label:"Override"},{key:"ignore",label:"Ignore"}],g=[{key:"mergeSearchProviders",label:"Search Providers",type:"dropdown",menuItems:b},{key:"mergeGroups",label:"Override Group names",type:"checkbox"},{key:"mergeRSA.config",label:"Override Security Analytics Configuration",type:"checkbox"},{key:"mergeRSA.queries",label:"Security Analytics Queries",type:"dropdown",menuItems:b},{key:"mergeNWI.config",label:"Override Netwitness Configuration",type:"checkbox"},{key:"mergeNWI.queries",label:"Netwitness Queries",type:"dropdown",menuItems:b},{key:"mergeCBC.config",label:"Override Carbon Black Configuration",type:"checkbox"},{key:"mergeCBC.queries",label:"Carbon Black Queries",type:"dropdown",menuItems:b}],h=[{key:"RSAConfigEnable",type:"checkbox",label:"Enable RSA Security Analytics Settings"},{key:"RSAConfigExampleLink",type:"text",label:"Paste example link from Security Analytics Investigation to autofill settings",autofiller:!0,placeholder:"e.g. https://security.com:81/investigation/12/"},{key:"RSAConfigHost",type:"text",label:"Security Analytics Host (IP Address/Hostname)"},{key:"RSAConfigPort",type:"text",label:"Port Number (leave blank if port 80 and HTTP or port 443 and HTTPS)"},{key:"RSAConfigDevId",type:"text",label:"Device ID"},{key:"RSAConfigUseHttps",type:"checkbox",label:"HTTPS (SSL) Enabled"},{key:"RSAConfigRange1",type:"number",label:"Search Range 1 in Hour(s)"},{key:"RSAConfigRange2",type:"number",label:"Search Range 2 in Hour(s)"},{key:"RSAConfigRange3",type:"number",label:"Search Range 3 in Hour(s)"},{key:"RSAConfigRange4",type:"number",label:"Search Range 4 in Hour(s)"},{key:"RSAConfigNewTab",type:"checkbox",label:"Switch Focus to New Tab"},{key:"RSAConfigPopup",type:"checkbox",label:"Enable debug popup window"}],m=[{key:"useGroups",label:"Enable groups",type:"checkbox"},{key:"resultsInBackgroundTab",label:"Open results in a background tab",type:"checkbox"},{key:"enableAdjacentTabs",label:"The new tab should be next to the current tab",type:"checkbox"},{key:"openGroupsInNewWindow",label:"Open group tabs in new window",type:"checkbox"},{key:"enableOptionsMenuItem",label:"Show link to extension options at the end of context menu",type:"checkbox"}],y="Settings.json";var L=n(168),R=n(51),I=n(490);function v(e){let t,n,a,l,i,o,s,c,u,d;return{c(){t=(0,r.bGB)("footer"),n=(0,r.bGB)("hr"),a=(0,r.DhX)(),l=(0,r.bGB)("small"),i=(0,r.fLW)("Copyright 2015-"),o=(0,r.fLW)(e[0]),s=(0,r.fLW)(" © CRITICALSTART. All rights reserved.\n    "),c=(0,r.bGB)("br"),u=(0,r.bGB)("a"),d=(0,r.fLW)(e[1]),(0,r.Ljt)(n,"class","my-2"),(0,r.Ljt)(u,"href",e[1]),(0,r.Ljt)(u,"target","_blank"),(0,r.Ljt)(l,"class","text-muted"),(0,r.Ljt)(t,"class","text-center mt-3 pb-2")},m(e,f){(0,r.$Tr)(e,t,f),(0,r.R3I)(t,n),(0,r.R3I)(t,a),(0,r.R3I)(t,l),(0,r.R3I)(l,i),(0,r.R3I)(l,o),(0,r.R3I)(l,s),(0,r.R3I)(l,c),(0,r.R3I)(l,u),(0,r.R3I)(u,d)},p:r.ZTd,i:r.ZTd,o:r.ZTd,d(e){e&&(0,r.ogt)(t)}}}function j(e){return[I.ou.now().year,c.CRITICALSTART_URL]}class k extends r.f_C{constructor(e){super(),(0,r.S1n)(this,e,j,v,r.N8,{})}}const x=k;function B(e,t,n){const a=e.slice();return a[7]=t[n],a}function T(e,t,n){const a=e.slice();return a[10]=t[n],a}function G(e){let t,n,a,l,i,o,s,c,u,d,f=e[10].label+"";function p(){return e[5](e[10])}return{c(){t=(0,r.bGB)("li"),n=(0,r.bGB)("a"),a=(0,r.fLW)(f),c=(0,r.DhX)(),(0,r.Ljt)(n,"href",l="#"),(0,r.Ljt)(n,"class",i="nav-link "+(e[10].page===e[0]?"active":"text-success")),(0,r.Ljt)(n,"data-tab",o=e[10].page),(0,r.Ljt)(n,"aria-current",s=e[10].page===e[0]?"page":""),(0,r.Ljt)(t,"class","nav-item")},m(e,l){(0,r.$Tr)(e,t,l),(0,r.R3I)(t,n),(0,r.R3I)(n,a),(0,r.R3I)(t,c),u||(d=(0,r.oLt)(n,"click",(0,r.AT7)(p)),u=!0)},p(t,a){e=t,1&a&&i!==(i="nav-link "+(e[10].page===e[0]?"active":"text-success"))&&(0,r.Ljt)(n,"class",i),1&a&&s!==(s=e[10].page===e[0]?"page":"")&&(0,r.Ljt)(n,"aria-current",s)},d(e){e&&(0,r.ogt)(t),u=!1,d()}}}function C(e){let t,n,a,l,i,o,s,c,u,d=e[7].label+"";return{c(){t=(0,r.bGB)("div"),n=(0,r.bGB)("a"),a=(0,r.bGB)("i"),i=(0,r.DhX)(),o=(0,r.fLW)(d),u=(0,r.DhX)(),(0,r.Ljt)(a,"class",l=e[7].icon),(0,r.Ljt)(a,"aria-hidden","true"),(0,r.Ljt)(n,"href",s=e[7].href),(0,r.Ljt)(n,"title",c=e[7].title),(0,r.Ljt)(n,"target","_blank"),(0,r.Ljt)(t,"class","mx-2 pb-2")},m(e,l){(0,r.$Tr)(e,t,l),(0,r.R3I)(t,n),(0,r.R3I)(n,a),(0,r.R3I)(n,i),(0,r.R3I)(n,o),(0,r.R3I)(t,u)},p:r.ZTd,d(e){e&&(0,r.ogt)(t)}}}function S(e){let t,n,a,l,i,o,s,c,u,d,f,p,b=e[1],g=[];for(let t=0;t<b.length;t+=1)g[t]=G(T(e,b,t));let h=e[2],m=[];for(let t=0;t<h.length;t+=1)m[t]=C(B(e,h,t));return{c(){t=(0,r.bGB)("header"),n=(0,r.bGB)("a"),a=(0,r.bGB)("img"),i=(0,r.DhX)(),o=(0,r.bGB)("div"),s=(0,r.bGB)("h1"),s.textContent="CRITICALSTART",c=(0,r.DhX)(),u=(0,r.bGB)("nav"),d=(0,r.bGB)("ul");for(let e=0;e<g.length;e+=1)g[e].c();f=(0,r.DhX)(),p=(0,r.bGB)("div");for(let e=0;e<m.length;e+=1)m[e].c();(0,r.Jn4)(a.src,l="./images/icon_128.png")||(0,r.Ljt)(a,"src","./images/icon_128.png"),(0,r.Ljt)(a,"alt","CRITICALSTART logo"),(0,r.Ljt)(a,"height","90px"),(0,r.Ljt)(n,"id","logo-link"),(0,r.Ljt)(n,"target","_blank"),(0,r.Ljt)(n,"title","Threat Analytics @@browserName plugin notes"),(0,r.Ljt)(n,"href",e[3]),(0,r.Ljt)(s,"class","mb-1"),(0,r.Ljt)(d,"class","nav nav-tabs"),(0,r.Ljt)(o,"class","flex-grow-1 pl-3"),(0,r.Ljt)(p,"class","d-flex align-items-end"),(0,r.Ljt)(t,"class","container d-flex mb-3")},m(e,l){(0,r.$Tr)(e,t,l),(0,r.R3I)(t,n),(0,r.R3I)(n,a),(0,r.R3I)(t,i),(0,r.R3I)(t,o),(0,r.R3I)(o,s),(0,r.R3I)(o,c),(0,r.R3I)(o,u),(0,r.R3I)(u,d);for(let e=0;e<g.length;e+=1)g[e].m(d,null);(0,r.R3I)(t,f),(0,r.R3I)(t,p);for(let e=0;e<m.length;e+=1)m[e].m(p,null)},p(e,[t]){if(19&t){let n;for(b=e[1],n=0;n<b.length;n+=1){const a=T(e,b,n);g[n]?g[n].p(a,t):(g[n]=G(a),g[n].c(),g[n].m(d,null))}for(;n<g.length;n+=1)g[n].d(1);g.length=b.length}if(4&t){let n;for(h=e[2],n=0;n<h.length;n+=1){const a=B(e,h,n);m[n]?m[n].p(a,t):(m[n]=C(a),m[n].c(),m[n].m(p,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=h.length}},i:r.ZTd,o:r.ZTd,d(e){e&&(0,r.ogt)(t),(0,r.RMB)(g,e),(0,r.RMB)(m,e)}}}const A="search-providers";function w(e,t,n){const a=(0,R.x)(),l=[{label:"Home",title:"Home",icon:"fa fa-home",href:c.EXTENSION_HOME_URL},{label:"About us",title:"About us",icon:"fa fa-info-circle",href:c.ABOUT_US_URL},{label:"Feedback",title:"Report an issue",icon:"fab fa-github",href:c.ISSUES_URL}],i=c.CRITICALSTART_URL;let r;function o(e){n(0,r=e),a("tabClicked",e)}return(0,R.H3)((async()=>{await(0,R.Ky)(),o(A)})),[r,[{page:"settings",label:"Settings"},{page:"search-providers",label:"Search Providers"},{page:"security-analytics",label:"Security Analytics"},{page:"netwitness",label:"NetWitness"},{page:"carbon-black",label:"Carbon Black"}],l,i,o,e=>o(e.page)]}class E extends r.f_C{constructor(e){super(),(0,r.S1n)(this,e,w,S,r.N8,{})}}const $=E;var O=n(111),D=n.n(O);function _(e){return s().includes(e,"TESTSEARCH")||s().includes(e,"TESTB64SEARCH")||s().includes(e,"%s")}function N(e){try{const t=new URL(e);return["http:","https:"].includes(t.protocol)}catch(e){return!1}}function U(e){let t;return{c(){t=(0,r.bGB)("div"),t.textContent="The value must not be empty",(0,r.Ljt)(t,"class","invalid-feedback ml-1")},m(e,n){(0,r.$Tr)(e,t,n)},d(e){e&&(0,r.ogt)(t)}}}function X(e){let t,n,a=e[0].link?"The value must be a valid URL":"The value must not be empty";return{c(){t=(0,r.bGB)("div"),n=(0,r.fLW)(a),(0,r.Ljt)(t,"class","invalid-feedback ml-1")},m(e,a){(0,r.$Tr)(e,t,a),(0,r.R3I)(t,n)},p(e,t){1&t&&a!==(a=e[0].link?"The value must be a valid URL":"The value must not be empty")&&(0,r.rTO)(n,a)},d(e){e&&(0,r.ogt)(t)}}}function H(e){let t,n;return{c(){t=(0,r.bGB)("div"),n=(0,r.fLW)(e[2]),(0,r.Ljt)(t,"class","text-warning text-small ml-1 mt-1")},m(e,a){(0,r.$Tr)(e,t,a),(0,r.R3I)(t,n)},p(e,t){4&t&&(0,r.rTO)(n,e[2])},d(e){e&&(0,r.ogt)(t)}}}function W(e){let t,n,a=e[0].postValue?"The value must be a valid JSON object":"The value must not be empty if post is enabled";return{c(){t=(0,r.bGB)("div"),n=(0,r.fLW)(a),(0,r.Ljt)(t,"class","invalid-feedback ml-1")},m(e,a){(0,r.$Tr)(e,t,a),(0,r.R3I)(t,n)},p(e,t){1&t&&a!==(a=e[0].postValue?"The value must be a valid JSON object":"The value must not be empty if post is enabled")&&(0,r.rTO)(n,a)},d(e){e&&(0,r.ogt)(t)}}}function q(e){let t,n,a=e[0].proxyUrl?"The value must be a valid URL":"The value must not be empty if proxy is enabled";return{c(){t=(0,r.bGB)("div"),n=(0,r.fLW)(a),(0,r.Ljt)(t,"class","invalid-feedback ml-1")},m(e,a){(0,r.$Tr)(e,t,a),(0,r.R3I)(t,n)},p(e,t){1&t&&a!==(a=e[0].proxyUrl?"The value must be a valid URL":"The value must not be empty if proxy is enabled")&&(0,r.rTO)(n,a)},d(e){e&&(0,r.ogt)(t)}}}function P(e){let t,n,a,l,i,o,s,u,d,f,p,b,g,h,m,y,L,R,I,v,j,k,x,B,T,G,C,S,A,w,E,$,O,D,_,N,P,V,M,Z,Y,Q,K,F,z,J,ee,te,ne,ae,le,ie,re,oe,se,ce,ue,de,fe,pe,be,ge=c.EXTENSION_HOME_URL+"",he=e[1].label&&U(),me=e[1].link&&X(e),ye=e[2]&&H(e),Le=e[1].postValue&&W(e),Re=e[1].proxyUrl&&q(e);return{c(){t=(0,r.bGB)("div"),n=(0,r.bGB)("p"),n.textContent='WARNING: Due to this being converted from a Chromium-based instance to a Firefox instance by a complete noob, you must take a few steps to use it properly.  Ensure you enable groups on the "Settings" tab.  Then, enable the desired group(s) at the bottom of the "Search Providers" page.  Finally, ensure the desired group is enabled under the Context Menu Item of your choice.  YOU MUST USE GROUPS AS INDIVIDUAL TAB OPENING DOES NOT WORK IN FIREFOX!  YOU HAVE BEEN WARNED!!!',a=(0,r.DhX)(),l=(0,r.bGB)("p"),l.textContent='To add a new search option, enter the search term as "TESTSEARCH" and copy\n    the complete (including http://) URL of the results page to the \'Link\' field\n    below. You can also use "%s" to denote search terms, or "TESTB64SEARCH" if\n    you need the term Base64 encoded first. This could be useful when you are\n    copy-pasting from Chrome settings or trying to use CyberChef.',i=(0,r.DhX)(),o=(0,r.bGB)("p"),o.textContent="Most users will not need to use the POST function. The POST function is\n    useful when you want to POST (versus GET) a search term to an application or\n    API. You copy the destination URL to the 'Link' field and add the raw POST\n    data in the 'Add POST value' field. The HTTP POST will come from the\n    Chrome extension by default, which some applications/API's\n    may not allow. In that case use a PROXY to send the POST.",s=(0,r.DhX)(),u=(0,r.bGB)("p"),d=(0,r.fLW)("For more information visit\n    "),f=(0,r.bGB)("a"),p=(0,r.fLW)(ge),b=(0,r.fLW)("}\n    "),h=(0,r.fLW)("."),m=(0,r.DhX)(),y=(0,r.bGB)("div"),L=(0,r.bGB)("form"),R=(0,r.bGB)("div"),I=(0,r.bGB)("div"),v=(0,r.bGB)("div"),j=(0,r.bGB)("label"),j.textContent="Display name",k=(0,r.DhX)(),x=(0,r.bGB)("input"),B=(0,r.DhX)(),he&&he.c(),T=(0,r.DhX)(),G=(0,r.bGB)("div"),C=(0,r.bGB)("div"),S=(0,r.bGB)("label"),S.textContent="Link",A=(0,r.DhX)(),w=(0,r.bGB)("input"),E=(0,r.DhX)(),me&&me.c(),$=(0,r.DhX)(),ye&&ye.c(),O=(0,r.DhX)(),D=(0,r.bGB)("div"),_=(0,r.bGB)("div"),N=(0,r.bGB)("div"),P=(0,r.bGB)("label"),V=(0,r.bGB)("input"),M=(0,r.fLW)("\n            Add POST value"),Z=(0,r.DhX)(),Y=(0,r.bGB)("div"),Q=(0,r.bGB)("input"),F=(0,r.DhX)(),Le&&Le.c(),z=(0,r.DhX)(),J=(0,r.bGB)("div"),ee=(0,r.bGB)("div"),te=(0,r.bGB)("div"),ne=(0,r.bGB)("label"),ae=(0,r.bGB)("input"),le=(0,r.fLW)("\n            Use Proxy"),ie=(0,r.DhX)(),re=(0,r.bGB)("div"),oe=(0,r.bGB)("input"),ce=(0,r.DhX)(),Re&&Re.c(),ue=(0,r.DhX)(),de=(0,r.bGB)("div"),fe=(0,r.bGB)("button"),fe.innerHTML='<i class="fas fa-plus-circle" aria-hidden="true"></i> Add new option',(0,r.Ljt)(f,"id","extension_home_url"),(0,r.Ljt)(f,"target","_blank"),(0,r.Ljt)(f,"href",g=c.EXTENSION_HOME_URL),(0,r.Ljt)(j,"class","mb-1"),(0,r.Ljt)(j,"for","providers_name"),(0,r.Ljt)(x,"type","text"),(0,r.Ljt)(x,"class","form-control"),(0,r.Ljt)(x,"name","label"),(0,r.Ljt)(x,"placeholder","Label to be used in the context menu"),(0,r.Ljt)(x,"id","providers_name"),(0,r.VHj)(x,"is-invalid",e[1].label),(0,r.Ljt)(v,"class","form-group mb-0"),(0,r.Ljt)(I,"class","col-md-4"),(0,r.Ljt)(S,"class","mb-1"),(0,r.Ljt)(S,"for","providers_link"),(0,r.Ljt)(w,"type","text"),(0,r.Ljt)(w,"class","form-control"),(0,r.Ljt)(w,"name","link"),(0,r.Ljt)(w,"placeholder","URL address to which send requests"),(0,r.Ljt)(w,"id","providers_link"),(0,r.VHj)(w,"is-invalid",e[1].link),(0,r.Ljt)(C,"class","form-group mb-0"),(0,r.Ljt)(G,"class","col-md-8"),(0,r.Ljt)(R,"class","row"),(0,r.Ljt)(V,"type","checkbox"),(0,r.Ljt)(V,"class","form-check-input"),(0,r.Ljt)(V,"name","postEnabled"),(0,r.Ljt)(P,"class","form-check-label"),(0,r.Ljt)(N,"class","form-check ml-2 mt-2"),(0,r.Ljt)(_,"class","col-md-4"),(0,r.Ljt)(Q,"type","text"),(0,r.Ljt)(Q,"class","form-control text-monospace"),(0,r.Ljt)(Q,"name","postValue"),(0,r.Ljt)(Q,"placeholder","JSON object to send in POST request"),Q.disabled=K=!e[0].postEnabled,(0,r.VHj)(Q,"is-invalid",e[1].postValue),(0,r.Ljt)(Y,"class","col-md-8"),(0,r.Ljt)(D,"class","row mt-2"),(0,r.Ljt)(ae,"type","checkbox"),(0,r.Ljt)(ae,"class","form-check-input"),(0,r.Ljt)(ae,"name","proxyEnabled"),(0,r.Ljt)(ne,"class","form-check-label"),(0,r.Ljt)(te,"class","form-check ml-2 mt-2"),(0,r.Ljt)(ee,"class","col-md-4"),(0,r.Ljt)(oe,"type","text"),(0,r.Ljt)(oe,"class","form-control"),(0,r.Ljt)(oe,"name","proxyUrl"),(0,r.Ljt)(oe,"placeholder","URL address of Proxy server"),oe.disabled=se=!e[0].proxyEnabled,(0,r.VHj)(oe,"is-invalid",e[1].proxyUrl),(0,r.Ljt)(re,"class","col-md-8"),(0,r.Ljt)(J,"class","row mt-2"),(0,r.Ljt)(fe,"type","submit"),(0,r.Ljt)(fe,"class","btn btn-success"),(0,r.Ljt)(de,"class","text-right mt-2"),(0,r.Ljt)(L,"name","add_provider"),(0,r.Ljt)(y,"class","border rounded py-2 px-3")},m(c,g){(0,r.$Tr)(c,t,g),(0,r.R3I)(t,n),(0,r.R3I)(t,a),(0,r.R3I)(t,l),(0,r.R3I)(t,i),(0,r.R3I)(t,o),(0,r.R3I)(t,s),(0,r.R3I)(t,u),(0,r.R3I)(u,d),(0,r.R3I)(u,f),(0,r.R3I)(f,p),(0,r.R3I)(f,b),(0,r.R3I)(u,h),(0,r.$Tr)(c,m,g),(0,r.$Tr)(c,y,g),(0,r.R3I)(y,L),(0,r.R3I)(L,R),(0,r.R3I)(R,I),(0,r.R3I)(I,v),(0,r.R3I)(v,j),(0,r.R3I)(v,k),(0,r.R3I)(v,x),(0,r.BmG)(x,e[0].label),(0,r.R3I)(v,B),he&&he.m(v,null),(0,r.R3I)(R,T),(0,r.R3I)(R,G),(0,r.R3I)(G,C),(0,r.R3I)(C,S),(0,r.R3I)(C,A),(0,r.R3I)(C,w),(0,r.BmG)(w,e[0].link),(0,r.R3I)(C,E),me&&me.m(C,null),(0,r.R3I)(C,$),ye&&ye.m(C,null),(0,r.R3I)(L,O),(0,r.R3I)(L,D),(0,r.R3I)(D,_),(0,r.R3I)(_,N),(0,r.R3I)(N,P),(0,r.R3I)(P,V),V.checked=e[0].postEnabled,(0,r.R3I)(P,M),(0,r.R3I)(D,Z),(0,r.R3I)(D,Y),(0,r.R3I)(Y,Q),(0,r.BmG)(Q,e[0].postValue),(0,r.R3I)(Y,F),Le&&Le.m(Y,null),(0,r.R3I)(L,z),(0,r.R3I)(L,J),(0,r.R3I)(J,ee),(0,r.R3I)(ee,te),(0,r.R3I)(te,ne),(0,r.R3I)(ne,ae),ae.checked=e[0].proxyEnabled,(0,r.R3I)(ne,le),(0,r.R3I)(J,ie),(0,r.R3I)(J,re),(0,r.R3I)(re,oe),(0,r.BmG)(oe,e[0].proxyUrl),(0,r.R3I)(re,ce),Re&&Re.m(re,null),(0,r.R3I)(L,ue),(0,r.R3I)(L,de),(0,r.R3I)(de,fe),pe||(be=[(0,r.oLt)(x,"input",e[8]),(0,r.oLt)(x,"blur",e[4]),(0,r.oLt)(x,"input",e[9]),(0,r.oLt)(w,"input",e[10]),(0,r.oLt)(w,"blur",e[11]),(0,r.oLt)(w,"input",e[12]),(0,r.oLt)(V,"change",e[13]),(0,r.oLt)(V,"change",e[14]),(0,r.oLt)(Q,"input",e[15]),(0,r.oLt)(Q,"blur",e[6]),(0,r.oLt)(Q,"input",e[16]),(0,r.oLt)(ae,"change",e[17]),(0,r.oLt)(ae,"change",e[18]),(0,r.oLt)(oe,"input",e[19]),(0,r.oLt)(oe,"blur",e[7]),(0,r.oLt)(oe,"input",e[20]),(0,r.oLt)(fe,"click",(0,r.AT7)(e[3]))],pe=!0)},p(e,[t]){1&t&&x.value!==e[0].label&&(0,r.BmG)(x,e[0].label),2&t&&(0,r.VHj)(x,"is-invalid",e[1].label),e[1].label?he||(he=U(),he.c(),he.m(v,null)):he&&(he.d(1),he=null),1&t&&w.value!==e[0].link&&(0,r.BmG)(w,e[0].link),2&t&&(0,r.VHj)(w,"is-invalid",e[1].link),e[1].link?me?me.p(e,t):(me=X(e),me.c(),me.m(C,$)):me&&(me.d(1),me=null),e[2]?ye?ye.p(e,t):(ye=H(e),ye.c(),ye.m(C,null)):ye&&(ye.d(1),ye=null),1&t&&(V.checked=e[0].postEnabled),1&t&&K!==(K=!e[0].postEnabled)&&(Q.disabled=K),1&t&&Q.value!==e[0].postValue&&(0,r.BmG)(Q,e[0].postValue),2&t&&(0,r.VHj)(Q,"is-invalid",e[1].postValue),e[1].postValue?Le?Le.p(e,t):(Le=W(e),Le.c(),Le.m(Y,null)):Le&&(Le.d(1),Le=null),1&t&&(ae.checked=e[0].proxyEnabled),1&t&&se!==(se=!e[0].proxyEnabled)&&(oe.disabled=se),1&t&&oe.value!==e[0].proxyUrl&&(0,r.BmG)(oe,e[0].proxyUrl),2&t&&(0,r.VHj)(oe,"is-invalid",e[1].proxyUrl),e[1].proxyUrl?Re?Re.p(e,t):(Re=q(e),Re.c(),Re.m(re,null)):Re&&(Re.d(1),Re=null)},i:r.ZTd,o:r.ZTd,d(e){e&&(0,r.ogt)(t),e&&(0,r.ogt)(m),e&&(0,r.ogt)(y),he&&he.d(),me&&me.d(),ye&&ye.d(),Le&&Le.d(),Re&&Re.d(),pe=!1,(0,r.j7q)(be)}}}function V(e,t,n){const a=(0,R.x)(),l={label:"",link:"",postEnabled:!1,postValue:null,proxyEnabled:!1,proxyUrl:null};let i,r=s().clone(l),o={};function c(e,t){t?n(1,o[e]=!0,o):delete o[e],n(1,o)}function d(){c("label",s().isEmpty(r.label))}function f(e){e&&!o.link||c("link",!N(r.link)),o.link||_(r.link)?n(2,i=null):e||n(2,i="The link contains neither TESTSEARCH nor TESTB64SEARCH")}function p(){c("postValue",r.postEnabled&&(s().isEmpty(r.postValue)||!function(e){try{JSON.parse(e)}catch(e){return!1}return!0}(r.postValue)))}function b(){c("proxyUrl",r.proxyEnabled&&!N(r.proxyUrl))}return[r,o,i,async function(){if(d(),f(),p(),b(),s().isEmpty(o)||(D().Notify.Failure("Some fields are empty or have invalid values"),0)){const e=await L.Z.getOne(u.SEARCH_PROVIDERS);e.push({menuIndex:-1,enabled:!0,fromConfig:!1,group:0,...r}),await L.Z.setOne(u.SEARCH_PROVIDERS,e),n(0,r=s().clone(l)),n(1,o={}),n(2,i=null),D().Notify.Success("Option added successfully"),a("updateMainConfiguration")}},d,f,p,b,function(){r.label=this.value,n(0,r)},()=>o.label&&d(),function(){r.link=this.value,n(0,r)},()=>f(),()=>f(!0),function(){r.postEnabled=this.checked,n(0,r)},()=>o.postValue&&p(),function(){r.postValue=this.value,n(0,r)},()=>o.postValue&&p(),function(){r.proxyEnabled=this.checked,n(0,r)},()=>o.proxyUrl&&b(),function(){r.proxyUrl=this.value,n(0,r)},()=>o.proxyUrl&&b()]}class M extends r.f_C{constructor(e){super(),(0,r.S1n)(this,e,V,P,r.N8,{})}}const Z=M;var Y=n(474);function Q(e,t,n){const a=e.slice();return a[33]=t[n],a[35]=n,a}function K(e,t,n){const a=e.slice();return a[36]=t[n],a[38]=n,a}function F(e){let t,n,a=e[1](e[35],"label")+"";return{c(){t=(0,r.bGB)("div"),n=(0,r.fLW)(a),(0,r.Ljt)(t,"class","invalid-feedback ml-1")},m(e,a){(0,r.$Tr)(e,t,a),(0,r.R3I)(t,n)},p(e,t){10&t[0]&&a!==(a=e[1](e[35],"label")+"")&&(0,r.rTO)(n,a)},d(e){e&&(0,r.ogt)(t)}}}function z(e){let t,n,a=e[1](e[35],"link")+"";return{c(){t=(0,r.bGB)("div"),n=(0,r.fLW)(a),(0,r.Ljt)(t,"class","invalid-feedback ml-1")},m(e,a){(0,r.$Tr)(e,t,a),(0,r.R3I)(t,n)},p(e,t){10&t[0]&&a!==(a=e[1](e[35],"link")+"")&&(0,r.rTO)(n,a)},d(e){e&&(0,r.ogt)(t)}}}function J(e){let t,n,a=e[0](e[35])+"";return{c(){t=(0,r.bGB)("div"),n=(0,r.fLW)(a),(0,r.Ljt)(t,"class","text-warning text-small ml-1 mt-1")},m(e,a){(0,r.$Tr)(e,t,a),(0,r.R3I)(t,n)},p(e,t){9&t[0]&&a!==(a=e[0](e[35])+"")&&(0,r.rTO)(n,a)},d(e){e&&(0,r.ogt)(t)}}}function ee(e){let t,n,a,l,i,o,s;function c(...t){return e[24](e[35],...t)}return{c(){t=(0,r.bGB)("div"),n=(0,r.bGB)("span"),n.textContent="POST Value",a=(0,r.DhX)(),l=(0,r.bGB)("input"),(0,r.Ljt)(n,"class","text-nowrap mr-2"),(0,r.Ljt)(l,"type","text"),l.value=i=e[33].postValue,(0,r.Ljt)(l,"class","form-control text-monospace"),(0,r.Ljt)(l,"placeholder","JSON object to send in POST request"),(0,r.Ljt)(t,"class","mt-2 d-flex align-items-center")},m(e,i){(0,r.$Tr)(e,t,i),(0,r.R3I)(t,n),(0,r.R3I)(t,a),(0,r.R3I)(t,l),o||(s=(0,r.oLt)(l,"change",c),o=!0)},p(t,n){e=t,8&n[0]&&i!==(i=e[33].postValue)&&l.value!==i&&(l.value=i)},d(e){e&&(0,r.ogt)(t),o=!1,s()}}}function te(e){let t,n,a,l,i,o,s;function c(...t){return e[25](e[35],...t)}return{c(){t=(0,r.bGB)("div"),n=(0,r.bGB)("span"),n.textContent="Proxy URL",a=(0,r.DhX)(),l=(0,r.bGB)("input"),(0,r.Ljt)(n,"class","text-nowrap mr-2"),(0,r.Ljt)(l,"type","text"),l.value=i=e[33].proxyUrl,(0,r.Ljt)(l,"class","form-control"),(0,r.Ljt)(l,"placeholder","URL address of Proxy server"),(0,r.Ljt)(t,"class","mt-2 d-flex align-items-center")},m(e,i){(0,r.$Tr)(e,t,i),(0,r.R3I)(t,n),(0,r.R3I)(t,a),(0,r.R3I)(t,l),o||(s=(0,r.oLt)(l,"change",c),o=!0)},p(t,n){e=t,8&n[0]&&i!==(i=e[33].proxyUrl)&&l.value!==i&&(l.value=i)},d(e){e&&(0,r.ogt)(t),o=!1,s()}}}function ne(e){let t,n,a,l,i,o,s,c,u,d,f,p,b,g=(e[36].name||"(not set)")+"";function h(){return e[26](e[35],e[33],e[38])}return{c(){t=(0,r.bGB)("div"),n=(0,r.bGB)("input"),s=(0,r.DhX)(),c=(0,r.bGB)("label"),u=(0,r.fLW)(g),f=(0,r.DhX)(),(0,r.Ljt)(n,"type","checkbox"),n.value=a=e[38]+1,n.checked=l=e[33].group&Math.pow(2,e[38])?"checked":"",(0,r.Ljt)(n,"class","form-check-input"),(0,r.Ljt)(n,"id",i="group_"+e[35]+"_"+e[38]),n.disabled=o=e[36].enabled?"":"disabled",(0,r.Ljt)(c,"class","form-check-label"),(0,r.Ljt)(c,"for",d="group_"+e[35]+"_"+e[38]),(0,r.VHj)(c,"text-muted",!e[36].enabled),(0,r.VHj)(c,"font-italic",!e[36].name),(0,r.Ljt)(t,"class","form-check mx-2")},m(e,a){(0,r.$Tr)(e,t,a),(0,r.R3I)(t,n),(0,r.R3I)(t,s),(0,r.R3I)(t,c),(0,r.R3I)(c,u),(0,r.R3I)(t,f),p||(b=(0,r.oLt)(n,"change",h),p=!0)},p(t,a){e=t,8&a[0]&&l!==(l=e[33].group&Math.pow(2,e[38])?"checked":"")&&(n.checked=l),8&a[0]&&i!==(i="group_"+e[35]+"_"+e[38])&&(0,r.Ljt)(n,"id",i),16&a[0]&&o!==(o=e[36].enabled?"":"disabled")&&(n.disabled=o),16&a[0]&&g!==(g=(e[36].name||"(not set)")+"")&&(0,r.rTO)(u,g),8&a[0]&&d!==(d="group_"+e[35]+"_"+e[38])&&(0,r.Ljt)(c,"for",d),16&a[0]&&(0,r.VHj)(c,"text-muted",!e[36].enabled),16&a[0]&&(0,r.VHj)(c,"font-italic",!e[36].name)},d(e){e&&(0,r.ogt)(t),p=!1,b()}}}function ae(e){let t;return{c(){t=(0,r.bGB)("span"),t.innerHTML='<i class="fas fa-user" aria-hidden="true"></i>\n                    User',(0,r.Ljt)(t,"class","text-secondary"),(0,r.Ljt)(t,"title","This provider was defined by an user")},m(e,n){(0,r.$Tr)(e,t,n)},d(e){e&&(0,r.ogt)(t)}}}function le(e){let t;return{c(){t=(0,r.bGB)("span"),t.innerHTML='<i class="fas fa-file-alt" aria-hidden="true"></i>\n                    Config',(0,r.Ljt)(t,"class","text-secondary"),(0,r.Ljt)(t,"title","This provider was added by the configuration file")},m(e,n){(0,r.$Tr)(e,t,n)},d(e){e&&(0,r.ogt)(t)}}}function ie(e,t){let n,a,l,i,o,s,c,u,d,f,p,b,g,h,m,y,L,R,I,v,j,k,x,B,T,G,C,S,A,w,E,$,O,D,_,N,U,X,H,W,q,P,V=t[6](t[35],"label"),M=t[6](t[35],"link"),Z=t[5](t[35]);function Y(...e){return t[16](t[35],...e)}function Q(){return t[17](t[35])}function ie(...e){return t[18](t[35],...e)}let re=V&&F(t);function oe(...e){return t[19](t[35],...e)}function se(){return t[20](t[35])}function ce(...e){return t[21](t[35],...e)}let ue=M&&z(t),de=Z&&J(t);function fe(...e){return t[22](t[35],...e)}function pe(){return t[23](t[35])}let be=t[33].postEnabled&&ee(t),ge=t[33].proxyEnabled&&te(t),he=t[4],me=[];for(let e=0;e<he.length;e+=1)me[e]=ne(K(t,he,e));function ye(e,t){return e[33].fromConfig?le:ae}let Le=ye(t),Re=Le(t);return{key:e,first:null,c(){n=(0,r.bGB)("li"),a=(0,r.bGB)("div"),l=(0,r.bGB)("div"),l.innerHTML='<i class="fas fa-arrows-alt text-extra-large" aria-hidden="true"></i>',i=(0,r.DhX)(),o=(0,r.bGB)("div"),s=(0,r.bGB)("div"),c=(0,r.bGB)("div"),u=(0,r.bGB)("input"),p=(0,r.DhX)(),re&&re.c(),b=(0,r.DhX)(),g=(0,r.bGB)("div"),h=(0,r.bGB)("input"),y=(0,r.DhX)(),ue&&ue.c(),L=(0,r.DhX)(),de&&de.c(),R=(0,r.DhX)(),I=(0,r.bGB)("div"),v=(0,r.bGB)("input"),x=(0,r.DhX)(),B=(0,r.bGB)("label"),T=(0,r.fLW)("Enabled"),C=(0,r.DhX)(),S=(0,r.bGB)("div"),A=(0,r.bGB)("button"),A.innerHTML='<i class="fas fa-minus-circle" aria-hidden="true"></i>\n                  Delete',w=(0,r.DhX)(),be&&be.c(),E=(0,r.DhX)(),ge&&ge.c(),$=(0,r.DhX)(),O=(0,r.bGB)("div"),D=(0,r.bGB)("div"),_=(0,r.bGB)("div"),_.textContent="Groups:",N=(0,r.DhX)();for(let e=0;e<me.length;e+=1)me[e].c();U=(0,r.DhX)(),X=(0,r.bGB)("div"),H=(0,r.fLW)("Source:\n                "),Re.c(),W=(0,r.DhX)(),(0,r.Ljt)(l,"class","sortable-handle px-2 py-3 mr-1"),(0,r.Ljt)(u,"type","text"),u.value=d=t[33].label,(0,r.Ljt)(u,"class","form-control text-black"),(0,r.Ljt)(u,"placeholder","Label to be used in the context menu"),(0,r.Ljt)(u,"name",f="label_"+t[35]),(0,r.VHj)(u,"is-invalid",t[6](t[35],"label")),(0,r.Ljt)(c,"class","flex-1"),(0,r.Ljt)(h,"type","text"),h.value=m=t[33].link,(0,r.Ljt)(h,"class","form-control text-info"),(0,r.Ljt)(h,"placeholder","URL address to which send requests"),(0,r.VHj)(h,"is-invalid",t[6](t[35],"link")),(0,r.Ljt)(g,"class","flex-2 mx-2"),(0,r.Ljt)(v,"type","checkbox"),v.value="yes",v.checked=j=t[33].enabled?"checked":"",(0,r.Ljt)(v,"class","form-check-input"),(0,r.Ljt)(v,"id",k="providers_enabled_"+t[35]),(0,r.Ljt)(B,"class","form-check-label"),(0,r.Ljt)(B,"for",G="providers_enabled_"+t[35]),(0,r.Ljt)(I,"class","form-check mx-2"),(0,r.Ljt)(A,"type","button"),(0,r.Ljt)(A,"class","btn btn-outline-danger py-0 px-1"),(0,r.Ljt)(A,"title","Delete"),(0,r.Ljt)(s,"class","d-flex align-items-start"),(0,r.Ljt)(_,"class","text-muted"),(0,r.Ljt)(D,"class","d-flex align-items-center pl-1"),(0,r.Ljt)(O,"class","d-flex align-items-center justify-content-between mt-2"),(0,r.Ljt)(o,"class","flex-1"),(0,r.Ljt)(a,"class","d-flex align-items-center"),(0,r.Ljt)(n,"role","listitem"),(0,r.Ljt)(n,"class","list-group-item sortable pl-1 pr-2 py-3"),this.first=n},m(e,t){(0,r.$Tr)(e,n,t),(0,r.R3I)(n,a),(0,r.R3I)(a,l),(0,r.R3I)(a,i),(0,r.R3I)(a,o),(0,r.R3I)(o,s),(0,r.R3I)(s,c),(0,r.R3I)(c,u),(0,r.R3I)(c,p),re&&re.m(c,null),(0,r.R3I)(s,b),(0,r.R3I)(s,g),(0,r.R3I)(g,h),(0,r.R3I)(g,y),ue&&ue.m(g,null),(0,r.R3I)(g,L),de&&de.m(g,null),(0,r.R3I)(s,R),(0,r.R3I)(s,I),(0,r.R3I)(I,v),(0,r.R3I)(I,x),(0,r.R3I)(I,B),(0,r.R3I)(B,T),(0,r.R3I)(s,C),(0,r.R3I)(s,S),(0,r.R3I)(S,A),(0,r.R3I)(o,w),be&&be.m(o,null),(0,r.R3I)(o,E),ge&&ge.m(o,null),(0,r.R3I)(o,$),(0,r.R3I)(o,O),(0,r.R3I)(O,D),(0,r.R3I)(D,_),(0,r.R3I)(D,N);for(let e=0;e<me.length;e+=1)me[e].m(D,null);(0,r.R3I)(O,U),(0,r.R3I)(O,X),(0,r.R3I)(X,H),Re.m(X,null),(0,r.R3I)(n,W),q||(P=[(0,r.oLt)(u,"input",Y),(0,r.oLt)(u,"blur",Q),(0,r.oLt)(u,"change",ie),(0,r.oLt)(h,"input",oe),(0,r.oLt)(h,"blur",se),(0,r.oLt)(h,"change",ce),(0,r.oLt)(v,"change",fe),(0,r.oLt)(A,"click",pe)],q=!0)},p(e,n){if(t=e,8&n[0]&&d!==(d=t[33].label)&&u.value!==d&&(u.value=d),8&n[0]&&f!==(f="label_"+t[35])&&(0,r.Ljt)(u,"name",f),72&n[0]&&(0,r.VHj)(u,"is-invalid",t[6](t[35],"label")),72&n[0]&&(V=t[6](t[35],"label")),V?re?re.p(t,n):(re=F(t),re.c(),re.m(c,null)):re&&(re.d(1),re=null),8&n[0]&&m!==(m=t[33].link)&&h.value!==m&&(h.value=m),72&n[0]&&(0,r.VHj)(h,"is-invalid",t[6](t[35],"link")),72&n[0]&&(M=t[6](t[35],"link")),M?ue?ue.p(t,n):(ue=z(t),ue.c(),ue.m(g,L)):ue&&(ue.d(1),ue=null),40&n[0]&&(Z=t[5](t[35])),Z?de?de.p(t,n):(de=J(t),de.c(),de.m(g,null)):de&&(de.d(1),de=null),8&n[0]&&j!==(j=t[33].enabled?"checked":"")&&(v.checked=j),8&n[0]&&k!==(k="providers_enabled_"+t[35])&&(0,r.Ljt)(v,"id",k),8&n[0]&&G!==(G="providers_enabled_"+t[35])&&(0,r.Ljt)(B,"for",G),t[33].postEnabled?be?be.p(t,n):(be=ee(t),be.c(),be.m(o,E)):be&&(be.d(1),be=null),t[33].proxyEnabled?ge?ge.p(t,n):(ge=te(t),ge.c(),ge.m(o,$)):ge&&(ge.d(1),ge=null),536&n[0]){let e;for(he=t[4],e=0;e<he.length;e+=1){const a=K(t,he,e);me[e]?me[e].p(a,n):(me[e]=ne(a),me[e].c(),me[e].m(D,null))}for(;e<me.length;e+=1)me[e].d(1);me.length=he.length}Le!==(Le=ye(t))&&(Re.d(1),Re=Le(t),Re&&(Re.c(),Re.m(X,null)))},d(e){e&&(0,r.ogt)(n),re&&re.d(),ue&&ue.d(),de&&de.d(),be&&be.d(),ge&&ge.d(),(0,r.RMB)(me,e),Re.d(),q=!1,(0,r.j7q)(P)}}}function re(e){let t,n,a,l,i,o,s,c=[],u=new Map,d=e[3];const f=e=>e[33];for(let t=0;t<d.length;t+=1){let n=Q(e,d,t),a=f(n);u.set(a,c[t]=ie(a,n))}return{c(){t=(0,r.bGB)("form"),n=(0,r.bGB)("ul");for(let e=0;e<c.length;e+=1)c[e].c();a=(0,r.DhX)(),l=(0,r.bGB)("div"),i=(0,r.bGB)("button"),i.innerHTML='<i class="fas fa-undo" aria-hidden="true"></i>\n      Undo recent changes',(0,r.Ljt)(n,"role","list"),(0,r.Ljt)(n,"class","list-group"),(0,r.Ljt)(i,"type","button"),(0,r.Ljt)(i,"class","btn btn-outline-danger"),(0,r.Ljt)(l,"class","text-right mt-2"),(0,r.Ljt)(t,"name","manage_providers")},m(u,d){(0,r.$Tr)(u,t,d),(0,r.R3I)(t,n);for(let e=0;e<c.length;e+=1)c[e].m(n,null);e[27](n),(0,r.R3I)(t,a),(0,r.R3I)(t,l),(0,r.R3I)(l,i),o||(s=(0,r.oLt)(i,"click",e[8]),o=!0)},p(e,t){3835&t[0]&&(d=e[3],c=(0,r.GQg)(c,t,f,1,e,d,u,n,r.OCq,ie,null,Q))},i:r.ZTd,o:r.ZTd,d(n){n&&(0,r.ogt)(t);for(let e=0;e<c.length;e+=1)c[e].d();e[27](null),o=!1,s()}}}function oe(e,t,n){let a,l,i,o;const c=(0,R.x)();let d,f=[],p=[],b={},g=[],h={};async function m(){f=await L.Z.getOne(u.SEARCH_PROVIDERS)||[],y(),Y.bt.create(d,{handle:".sortable-handle",onEnd:v})}async function y(){n(3,p=await L.Z.getOne(u.SEARCH_PROVIDERS)||[]),function(){for(var e=0;e<p.length;e++)x(e,"label"),x(e,"link")}(),n(4,g=(await L.Z.getOne(u.SETTINGS))?.providersGroups||[])}function I(e){confirm("Are you sure you want to remove this item?")&&(p.splice(e,1),n(3,p),B(),D().Notify.Success("Item removed"))}function v(e){p.splice(e.newIndex,0,p.splice(e.oldIndex,1)[0]),n(3,p),B()}function j(e,t,a){n(3,p[e][t]=a,p),B()}function k(e,t,a){n(3,p[e][t]=a,p),x(e,t,!0)}function x(e,t,a){const l=p[e][t],i=l?"link"!==t||N(l)?null:"The value must be a valid URL":"The field must not be empty",r="link"!==t||i||_(l)?null:"The link contains neither TESTSEARCH nor TESTB64SEARCH",o=`${e}.${t}`;i?a&&!b[o]||n(14,b[o]=i,b):delete b[o],r?a||n(15,h[e]=r,h):delete h[e]}async function B(){await L.Z.setOne(u.SEARCH_PROVIDERS,p),c("updateMainConfiguration")}return(0,R.H3)((()=>{m()})),e.$$.update=()=>{16384&e.$$.dirty[0]&&n(1,a=function(e,t){return b[`${e}.${t}`]}),2&e.$$.dirty[0]&&n(6,l=function(e,t){return!s().isEmpty(a(e,t))}),32768&e.$$.dirty[0]&&n(0,i=function(e){return h[e]}),1&e.$$.dirty[0]&&n(5,o=function(e){return!s().isEmpty(i(e))})},[i,a,d,p,g,o,l,I,function(){confirm("Are you sure you want to undo all recents changes on menu items?")&&(n(3,p=s().cloneDeep(f)),B(),D().Notify.Success("Recent changes on menu items were undo"))},j,k,x,m,y,b,h,(e,t)=>k(e,"label",t.target.value),e=>x(e,"label"),(e,t)=>j(e,"label",t.target.value),(e,t)=>k(e,"link",t.target.value),e=>x(e,"link"),(e,t)=>j(e,"link",t.target.value),(e,t)=>j(e,"enabled",t.target.checked),e=>I(e),(e,t)=>j(e,"postValue",t.target.value),(e,t)=>j(e,"proxyUrl",t.target.value),(e,t,n)=>j(e,"group",t.group^Math.pow(2,n)),function(e){r.VnY[e?"unshift":"push"]((()=>{d=e,n(2,d)}))}]}class se extends r.f_C{constructor(e){super(),(0,r.S1n)(this,e,oe,re,r.N8,{initData:12,initProvidersAndGroups:13},null,[-1,-1])}get initData(){return this.$$.ctx[12]}get initProvidersAndGroups(){return this.$$.ctx[13]}}const ce=se;function ue(e,t,n){const a=e.slice();return a[16]=t[n],a[18]=n,a}function de(e){let t,n,a=e[1][e[18]]+"";return{c(){t=(0,r.bGB)("div"),n=(0,r.fLW)(a),(0,r.Ljt)(t,"class","invalid-feedback ml-1")},m(e,a){(0,r.$Tr)(e,t,a),(0,r.R3I)(t,n)},p(e,t){3&t&&a!==(a=e[1][e[18]]+"")&&(0,r.rTO)(n,a)},d(e){e&&(0,r.ogt)(t)}}}function fe(e,t){let n,a,l,i,o,s,c,u,d,f,p,b,g,h,m,y,L,R,I=t[4](t[18]);function v(...e){return t[7](t[18],...e)}function j(...e){return t[8](t[18],...e)}function k(...e){return t[9](t[18],...e)}let x=I&&de(t);return{key:e,first:null,c(){n=(0,r.bGB)("li"),a=(0,r.bGB)("div"),l=(0,r.bGB)("div"),i=(0,r.bGB)("div"),o=(0,r.bGB)("label"),s=(0,r.bGB)("input"),d=(0,r.fLW)("\n                Enabled"),f=(0,r.DhX)(),p=(0,r.bGB)("div"),b=(0,r.bGB)("input"),h=(0,r.DhX)(),x&&x.c(),m=(0,r.DhX)(),(0,r.Ljt)(s,"type","checkbox"),s.value="yes",s.checked=c=t[16].enabled?"checked":"",(0,r.Ljt)(s,"class","form-check-input"),(0,r.Ljt)(s,"id",u="providers_editGroups_enabled_"+t[18]),(0,r.Ljt)(o,"class","form-check-label"),(0,r.Ljt)(i,"class","form-check"),(0,r.Ljt)(l,"class","p-2"),(0,r.Ljt)(b,"type","text"),(0,r.Ljt)(b,"class","form-control"),b.value=g=t[16].name,(0,r.VHj)(b,"is-invalid",t[4](t[18])),(0,r.Ljt)(p,"class","flex-grow-1"),(0,r.Ljt)(a,"class","d-flex align-items-start"),(0,r.Ljt)(n,"class","list-group-item"),(0,r.Ljt)(n,"data-index",y=t[18]),this.first=n},m(e,t){(0,r.$Tr)(e,n,t),(0,r.R3I)(n,a),(0,r.R3I)(a,l),(0,r.R3I)(l,i),(0,r.R3I)(i,o),(0,r.R3I)(o,s),(0,r.R3I)(o,d),(0,r.R3I)(a,f),(0,r.R3I)(a,p),(0,r.R3I)(p,b),(0,r.R3I)(p,h),x&&x.m(p,null),(0,r.R3I)(n,m),L||(R=[(0,r.oLt)(s,"change",v),(0,r.oLt)(b,"input",j),(0,r.oLt)(b,"change",k)],L=!0)},p(e,a){t=e,1&a&&c!==(c=t[16].enabled?"checked":"")&&(s.checked=c),1&a&&u!==(u="providers_editGroups_enabled_"+t[18])&&(0,r.Ljt)(s,"id",u),1&a&&g!==(g=t[16].name)&&b.value!==g&&(b.value=g),17&a&&(0,r.VHj)(b,"is-invalid",t[4](t[18])),1&a&&(I=t[4](t[18])),I?x?x.p(t,a):(x=de(t),x.c(),x.m(p,null)):x&&(x.d(1),x=null),1&a&&y!==(y=t[18])&&(0,r.Ljt)(n,"data-index",y)},d(e){e&&(0,r.ogt)(n),x&&x.d(),L=!1,(0,r.j7q)(R)}}}function pe(e){let t,n,a,l,i,o,s,c,u,d=[],f=new Map,p=e[0];const b=e=>e[16];for(let t=0;t<p.length;t+=1){let n=ue(e,p,t),a=b(n);f.set(a,d[t]=fe(a,n))}return{c(){t=(0,r.bGB)("p"),t.innerHTML="Groups are special items on the contextual menu that allows you to do a\n  <em>bulk search</em>, executing multiple search providers at the same time.",n=(0,r.DhX)(),a=(0,r.bGB)("form"),l=(0,r.bGB)("ul");for(let e=0;e<d.length;e+=1)d[e].c();i=(0,r.DhX)(),o=(0,r.bGB)("div"),s=(0,r.bGB)("button"),s.innerHTML='<i class="fas fa-undo" aria-hidden="true"></i>\n      Undo recent changes',(0,r.Ljt)(l,"class","list-group"),(0,r.Ljt)(s,"type","button"),(0,r.Ljt)(s,"class","btn btn-outline-danger"),(0,r.Ljt)(o,"class","text-right mt-2"),(0,r.Ljt)(a,"name","edit_groups")},m(f,p){(0,r.$Tr)(f,t,p),(0,r.$Tr)(f,n,p),(0,r.$Tr)(f,a,p),(0,r.R3I)(a,l);for(let e=0;e<d.length;e+=1)d[e].m(l,null);(0,r.R3I)(a,i),(0,r.R3I)(a,o),(0,r.R3I)(o,s),c||(u=(0,r.oLt)(s,"click",(0,r.AT7)(e[5])),c=!0)},p(e,[t]){31&t&&(p=e[0],d=(0,r.GQg)(d,t,b,1,e,p,f,l,r.OCq,fe,null,ue))},i:r.ZTd,o:r.ZTd,d(e){e&&(0,r.ogt)(t),e&&(0,r.ogt)(n),e&&(0,r.ogt)(a);for(let e=0;e<d.length;e+=1)d[e].d();c=!1,u()}}}function be(e,t,n){const a=(0,R.x)();let l,i=[],r={};async function o(){const e=await L.Z.getOne(u.SETTINGS);n(0,i=s().cloneDeep(e?.providersGroups)||[]),function(){for(var e=0;e<i.length;e++)f(e)}()}function c(e,t,a){n(0,i[e][t]=a,i),f(e),p()}function d(e,t){n(0,i[e].name=t,i),f(e,!0)}function f(e,t){const a=i[e].name,l=i[e].enabled&&!a?"The field must not be empty if the group is enabled":null;l?t&&!r[e]||n(1,r[e]=l,r):delete r[e]}async function p(){const e=await L.Z.getOne(u.SETTINGS);e.providersGroups=i,await L.Z.setOne(u.SETTINGS,e),a("updateMainConfiguration")}return async function(){const e=await L.Z.getOne(u.SETTINGS);l=e?.providersGroups||[],o()}(),[i,r,c,d,function(e){return!s().isEmpty(r[e])},async function(){confirm("Are you sure you want to undo all recents changes on groups?")&&(n(0,i=s().cloneDeep(l)),p(),D().Notify.Success("Recent changes on groups were undo"))},o,(e,t)=>c(e,"enabled",t.target.checked),(e,t)=>d(e,t.target.value),(e,t)=>c(e,"name",t.target.value)]}class ge extends r.f_C{constructor(e){super(),(0,r.S1n)(this,e,be,pe,r.N8,{initGroups:6})}get initGroups(){return this.$$.ctx[6]}}const he=ge;function me(e){let t,n,a,l,i,o,s,c,u,d,f,p,b;return l=new Z({}),l.$on("updateMainConfiguration",e[4]),c=new ce({props:{}}),e[5](c),c.$on("updateMainConfiguration",e[6]),p=new he({props:{}}),e[7](p),p.$on("updateMainConfiguration",e[8]),{c(){t=(0,r.bGB)("div"),n=(0,r.bGB)("h2"),n.textContent="Add Search Provider",a=(0,r.DhX)(),(0,r.YCL)(l.$$.fragment),i=(0,r.DhX)(),o=(0,r.bGB)("h2"),o.textContent="Manage Context Menu Items",s=(0,r.DhX)(),(0,r.YCL)(c.$$.fragment),u=(0,r.DhX)(),d=(0,r.bGB)("h2"),d.textContent="Manage Groups",f=(0,r.DhX)(),(0,r.YCL)(p.$$.fragment),(0,r.Ljt)(o,"class","mt-4"),(0,r.Ljt)(d,"class","mt-3")},m(e,g){(0,r.$Tr)(e,t,g),(0,r.R3I)(t,n),(0,r.R3I)(t,a),(0,r.yef)(l,t,null),(0,r.R3I)(t,i),(0,r.R3I)(t,o),(0,r.R3I)(t,s),(0,r.yef)(c,t,null),(0,r.R3I)(t,u),(0,r.R3I)(t,d),(0,r.R3I)(t,f),(0,r.yef)(p,t,null),b=!0},p(e,[t]){c.$set({}),p.$set({})},i(e){b||((0,r.Ui)(l.$$.fragment,e),(0,r.Ui)(c.$$.fragment,e),(0,r.Ui)(p.$$.fragment,e),b=!0)},o(e){(0,r.etI)(l.$$.fragment,e),(0,r.etI)(c.$$.fragment,e),(0,r.etI)(p.$$.fragment,e),b=!1},d(n){n&&(0,r.ogt)(t),(0,r.vpE)(l),e[5](null),(0,r.vpE)(c),e[7](null),(0,r.vpE)(p)}}}function ye(e,t,n){const a=(0,R.x)();let l,i;function o(){return Promise.all([i.initGroups(),l.initProvidersAndGroups()])}return(0,R.H3)((()=>{o()})),[l,i,a,o,()=>a("updateMainConfiguration"),function(e){r.VnY[e?"unshift":"push"]((()=>{l=e,n(0,l)}))},()=>a("updateMainConfiguration"),function(e){r.VnY[e?"unshift":"push"]((()=>{i=e,n(1,i)}))},()=>a("updateMainConfiguration")]}class Le extends r.f_C{constructor(e){super(),(0,r.S1n)(this,e,ye,me,r.N8,{updateForms:3})}get updateForms(){return this.$$.ctx[3]}}const Re=Le;var Ie=n(826),ve=n.n(Ie),je=n(568),ke=n.n(je);function xe(e,t){const n=(e=Array.from(atob(e),(e=>e.charCodeAt(0)))).slice(8,16),a=function(e,t){const n=e.concat(t);let a=[],l=[];a[0]=ve().utils.hex.toBytes(ke()(n)),l=a[0];for(let e=1;e<3;e++)a[e]=ve().utils.hex.toBytes(ke()(a[e-1].concat(n))),l=l.concat(a[e]);return{key:l.slice(0,32),iv:l.slice(32,48)}}(Array.from(unescape(encodeURIComponent(t)),(e=>e.charCodeAt(0))),n);e=e.slice(16,e.length);const l=new(ve().ModeOfOperation.cbc)(a.key,a.iv).decrypt(e);return ve().utils.utf8.fromBytes(ve().padding.pkcs7.strip(l))}const Be=[{index:0,field:"configurationURL"},{index:1,field:"useGroups",type:"bool"},{index:2,field:"configEncrypted",type:"bool"},{index:3,field:"configEncryptionKey"},{index:4,field:"autoUpdateConfig",type:"bool"}],Te=[{index:0,field:"menuIndex"},{index:1,field:"label"},{index:2,field:"query"},{index:3,field:"enabled",type:"bool"}],Ge=[{index:0,field:"menuIndex"},{index:1,field:"label"},{index:2,field:"link"},{index:3,field:"enabled",type:"bool"},{index:4,field:"fromConfig",type:"bool"},{index:5,field:"group"},{index:6,field:"postEnabled",type:"bool"},{index:7,field:"postValue"},{index:8,field:"proxyEnabled",type:"bool"},{index:9,field:"proxyUrl"}];function Ce(e,t){return s().mapValues(s().keyBy(t,"field"),(t=>{const n=s().get(e,t.index);return"bool"===t.type?!0===n||"true"===n:n}))}function Se(e,t){return s().map(t,(t=>s().get(e,t.field)))}const Ae={updateNow:async function(){const e=await L.Z.getOne(u.SETTINGS)||{};let t=null;const n=!N(e.configurationURL),a=e.configEncrypted&&!e.configEncryptionKey;if(n||a)t="Update failed - Invalid "+(a?"Encryption Key":"URL");else try{const n=await fetch(e.configurationURL);if(n.status>=200&&n.status<300){let a=await n.text();if(a=a.replace(/\n\r|\r\n/g,""),e.configEncrypted){var l=e.configEncryptionKey;try{a=xe(a,l)}catch(e){console.error(e),t="Update failed - Decryption Error"}}const i=JSON.parse(a);await Ae.parseJSONFile(i,!1)}else t="Update failed - Invalid URL"}catch(e){console.error(e),t="Update failed - Invalid File"}return await L.Z.setOne(u.LAST_CONFIG_DATA,{date:(new Date).getTime(),errorMsg:t}),!t},updateSpecialProvider:async function(e,t,n,a){const l=await L.Z.getOne(u.SETTINGS),i=a||s().get(l,n+".config",!1),r=a?"override":s().get(l,n+".queries","merge"),o=await L.Z.getOne(e)||{};(i||s().isNil(o.config))&&(o.config=s().get(t,"Config",{}));const c=Ae.parseQueries(s().get(t,"Queries",[]));if("merge"===r){s().isArray(o.queries)||(o.queries=[]);for(let e=0;e<c.length;e++){const t=c[e],n=s().get(t,"metadata.alias");s().isArray(n)&&s().each(o.queries,(e=>{n.indexOf(e.query)>=0&&(e.query=t.query)})),s().find(o.queries,(e=>e.query===t.query))||o.queries.push(t)}}else"override"===r&&(o.queries=c);return L.Z.setOne(e,o)},sanitizeSettings:async function(){var e=await Ae.getDefaultJSON(),t=await L.Z.getOne(u.SETTINGS),n=Ae.parseBasicSettings(e.config);n.providersGroups=Ae.parseGroups(e.groups),s().isObject(t)&&!s().isArray(t.providersGroups)&&delete t.providersGroups,await L.Z.setOne(u.SETTINGS,s().assign(n,t));var a=await L.Z.getOne(u.SEARCH_PROVIDERS);s().isEmpty(a)&&await L.Z.setOne(u.SEARCH_PROVIDERS,Ae.parseProviders(e.searchproviders)),await Ae.sanitizeSpecialProviders()},sanitizeSpecialProviders:async function(){var e=await Ae.getDefaultJSON(),t=[{storeKey:u.CARBON_BLACK,fileKey:"CBC"},{storeKey:u.NET_WITNESS,fileKey:"NWI"},{storeKey:u.RSA_SECURITY,fileKey:"RSA"}];s().forEach(t,(async function(t){var n=await L.Z.getOne(t.storeKey)||{};s().isObject(n.config)||(n.config=s().get(e,`${t.fileKey}.Config`)||{}),s().isArray(n.queries)||(n.queries=Ae.parseQueries(s().get(e,`${t.fileKey}.Queries`))),L.Z.setOne(t.storeKey,n)}))},parseJSONFile:async function(e,t){const n=await L.Z.getOne(u.SETTINGS)||{};t&&!s().isEmpty(e.config)&&s().assign(n,Ae.parseBasicSettings(e.config));const a=e.groups;if((t||n.mergeGroups)&&!s().isEmpty(a))if(t&&a.length>=3||s().isEmpty(n.providersGroups))n.providersGroups=Ae.parseGroups(a);else for(let e=0;e<n.providersGroups.length;e++)a[e]?n.providersGroups[e].name=a[e][1]:e<3?n.providersGroups[e].enabled=!1:n.providersGroups.splice(3,n.providersGroups.length-3);await L.Z.setOne(u.SETTINGS,n);const l=Ae.parseProviders(e.searchproviders);await async function(e,t,n,a){let l=await L.Z.getOne(u.SEARCH_PROVIDERS)||[];s().each(n,(e=>{s().each(l,(t=>{e.target.indexOf(t.link)>=0&&(e.link&&(t.link=e.link),e.label&&(t.label=e.label))}))}));const i=a?"override":s().get(e,"mergeSearchProviders","merge");if("override"===i)l=t;else if("merge"===i)for(let e=0;e<t.length;e++){const n=t[e];s().find(l,(e=>e.link===n.link))||l.push(n)}await L.Z.setOne(u.SEARCH_PROVIDERS,l)}(n,l,s().get(e,"update.providers"),t),await Ae.updateSpecialProvider(u.RSA_SECURITY,e.RSA,"mergeRSA",t),await Ae.updateSpecialProvider(u.NET_WITNESS,e.NWI,"mergeNWI",t),await Ae.updateSpecialProvider(u.CARBON_BLACK,e.CBC,"mergeCBC",t)},parseBasicSettings:function(e){const t=Ce(s().get(e,0,[]),Be);return{...t,resultsInBackgroundTab:!0,enableAdjacentTabs:!0,openGroupsInNewWindow:!0,enableOptionsMenuItem:!0,mergeGroups:t.useGroups,mergeSearchProviders:"merge",mergeCBC:{config:!1,queries:"merge"},mergeNWI:{config:!1,queries:"merge"},mergeRSA:{config:!1,queries:"merge"}}},prepareBasicSettings:function(e){return[Se(e,Be)]},parseGroups:function(e){return s().isArray(e)&&e.length>=3?s().map(e,(function(e,t){return{name:s().get(e,1),enabled:t<2}})):[]},prepareGroups:function(e){return s().map([0,1,2],(function(t){return[t+1+"",s().get(e,`${t}.name`)]}))},parseProviders:function(e){return s().map(e,(function(e){return Ce(e,Ge)}))},prepareProviders:function(e){return s().map(e,(function(e){return Se(e,Ge)}))},parseQueries:function(e){return s().map(e,(function(e){return Ce(e,Te)}))},prepareQueries:function(e){return s().map(e,(function(e){return Se(e,Te)}))},getDefaultJSON:async function(){try{var e=await fetch("../settings.json");return await e.json()}catch(e){return{}}},generateJSONFile:async function(){var e=await L.Z.getOne(u.SETTINGS)||{},t=await L.Z.getOne(u.RSA_SECURITY)||{},n=await L.Z.getOne(u.NET_WITNESS)||{},a=await L.Z.getOne(u.CARBON_BLACK)||{},l=await L.Z.getOne(u.SEARCH_PROVIDERS)||[];return{searchproviders:Ae.prepareProviders(l),groups:Ae.prepareGroups(e.providersGroups),config:Ae.prepareBasicSettings(e),RSA:{Config:t.config,Queries:Ae.prepareQueries(t.queries)},NWI:{Config:n.config,Queries:Ae.prepareQueries(n.queries)},CBC:{Config:a.config,Queries:Ae.prepareQueries(a.queries)}}}},we=Ae;var Ee=n(253);function $e(e,t,n){const a=e.slice();return a[26]=t[n],a}function Oe(e){let t,n,a,l,i,o,s,c,u,d,f,p,b,g,h,m,y,L,R,I,v,j,k,x,B,T,G,C,S,A,w=e[0].menuItems.find(e[18])?.label+"",E=e[0].label+"",$=e[0].menuItems,O=[];for(let t=0;t<$.length;t+=1)O[t]=Ne($e(e,$,t));return{c(){t=(0,r.bGB)("li"),n=(0,r.bGB)("span"),a=(0,r.bGB)("button"),l=(0,r.fLW)(w),o=(0,r.DhX)(),s=(0,r.bGB)("div");for(let e=0;e<O.length;e+=1)O[e].c();c=(0,r.DhX)(),u=(0,r.bGB)("span"),d=(0,r.fLW)(E),f=(0,r.DhX)(),p=(0,r.bGB)("i"),b=(0,r.DhX)(),g=(0,r.bGB)("div"),h=(0,r.bGB)("div"),m=(0,r.bGB)("div"),y=(0,r.bGB)("strong"),y.textContent="Merge:",L=(0,r.fLW)("\n          Adds "),R=(0,r.fLW)(e[7]),I=(0,r.fLW)(" that aren't already in current list of "),v=(0,r.fLW)(e[7]),j=(0,r.fLW)("."),k=(0,r.DhX)(),x=(0,r.bGB)("div"),B=(0,r.bGB)("strong"),B.textContent="Override:",T=(0,r.fLW)("\n          Replaces local "),G=(0,r.fLW)(e[7]),C=(0,r.fLW)(" with new settings."),S=(0,r.DhX)(),A=(0,r.bGB)("div"),A.innerHTML="<strong>Ignore:</strong>\n          Keeps current list and ignores any incoming changes.",(0,r.Ljt)(a,"class","btn btn-outline-dark dropdown-toggle"),(0,r.Ljt)(a,"type","button"),(0,r.Ljt)(a,"name",i=e[0].key),(0,r.Ljt)(a,"data-bs-toggle","dropdown"),(0,r.Ljt)(a,"aria-haspopup","true"),(0,r.Ljt)(a,"aria-expanded","false"),(0,r.Ljt)(s,"class","dropdown-menu"),(0,r.Ljt)(s,"tabindex","-1"),(0,r.Ljt)(n,"class","dropdown"),(0,r.Ljt)(u,"class","form-check-label"),(0,r.Ljt)(p,"class","fas fa-info-circle text-info"),(0,r.Ljt)(p,"aria-hidden","true"),(0,r.Ljt)(p,"data-toggle","tooltip"),(0,r.Ljt)(p,"data-placement","right"),(0,r.Ljt)(h,"class","text-left"),(0,r.Ljt)(g,"class","d-none"),(0,r.Ljt)(t,"class","list-group-item")},m(i,w){(0,r.$Tr)(i,t,w),(0,r.R3I)(t,n),(0,r.R3I)(n,a),(0,r.R3I)(a,l),e[19](a),(0,r.R3I)(n,o),(0,r.R3I)(n,s);for(let e=0;e<O.length;e+=1)O[e].m(s,null);(0,r.R3I)(t,c),(0,r.R3I)(t,u),(0,r.R3I)(u,d),(0,r.R3I)(t,f),(0,r.R3I)(t,p),e[21](p),(0,r.R3I)(t,b),(0,r.R3I)(t,g),(0,r.R3I)(g,h),(0,r.R3I)(h,m),(0,r.R3I)(m,y),(0,r.R3I)(m,L),(0,r.R3I)(m,R),(0,r.R3I)(m,I),(0,r.R3I)(m,v),(0,r.R3I)(m,j),(0,r.R3I)(h,k),(0,r.R3I)(h,x),(0,r.R3I)(x,B),(0,r.R3I)(x,T),(0,r.R3I)(x,G),(0,r.R3I)(x,C),(0,r.R3I)(h,S),(0,r.R3I)(h,A),e[22](h)},p(e,t){if(3&t&&w!==(w=e[0].menuItems.find(e[18])?.label+"")&&(0,r.rTO)(l,w),1&t&&i!==(i=e[0].key)&&(0,r.Ljt)(a,"name",i),1025&t){let n;for($=e[0].menuItems,n=0;n<$.length;n+=1){const a=$e(e,$,n);O[n]?O[n].p(a,t):(O[n]=Ne(a),O[n].c(),O[n].m(s,null))}for(;n<O.length;n+=1)O[n].d(1);O.length=$.length}1&t&&E!==(E=e[0].label+"")&&(0,r.rTO)(d,E),128&t&&(0,r.rTO)(R,e[7]),128&t&&(0,r.rTO)(v,e[7]),128&t&&(0,r.rTO)(G,e[7])},d(n){n&&(0,r.ogt)(t),e[19](null),(0,r.RMB)(O,n),e[21](null),e[22](null)}}}function De(e){let t,n,a,l,i,o,s,c,u,d,f=e[0].label+"",p=e[6]&&Ue(e);return{c(){t=(0,r.bGB)("li"),n=(0,r.bGB)("div"),a=(0,r.bGB)("label"),l=(0,r.fLW)(f),i=(0,r.DhX)(),o=(0,r.bGB)("input"),c=(0,r.DhX)(),p&&p.c(),(0,r.Ljt)(o,"type","text"),(0,r.Ljt)(o,"class","form-control"),(0,r.Ljt)(o,"name",s=e[0].key),o.value=e[1],(0,r.VHj)(o,"is-invalid",e[6]),(0,r.Ljt)(a,"class","mb-1 w-100"),(0,r.Ljt)(n,"class","form-group mb-0"),(0,r.Ljt)(t,"class","list-group-item")},m(s,f){(0,r.$Tr)(s,t,f),(0,r.R3I)(t,n),(0,r.R3I)(n,a),(0,r.R3I)(a,l),(0,r.R3I)(a,i),(0,r.R3I)(a,o),(0,r.R3I)(a,c),p&&p.m(a,null),u||(d=[(0,r.oLt)(o,"input",e[15]),(0,r.oLt)(o,"blur",e[16]),(0,r.oLt)(o,"change",e[17])],u=!0)},p(e,t){1&t&&f!==(f=e[0].label+"")&&(0,r.rTO)(l,f),1&t&&s!==(s=e[0].key)&&(0,r.Ljt)(o,"name",s),2&t&&o.value!==e[1]&&(o.value=e[1]),64&t&&(0,r.VHj)(o,"is-invalid",e[6]),e[6]?p?p.p(e,t):(p=Ue(e),p.c(),p.m(a,null)):p&&(p.d(1),p=null)},d(e){e&&(0,r.ogt)(t),p&&p.d(),u=!1,(0,r.j7q)(d)}}}function _e(e){let t,n,a,l,i,o,s,c,u,d,f=e[0].label+"";return{c(){t=(0,r.bGB)("li"),n=(0,r.bGB)("div"),a=(0,r.bGB)("label"),l=(0,r.bGB)("input"),s=(0,r.DhX)(),c=(0,r.fLW)(f),(0,r.Ljt)(l,"type","checkbox"),(0,r.Ljt)(l,"class","form-check-input"),(0,r.Ljt)(l,"name",i=e[0].key),l.checked=o=e[1]?"checked":"",(0,r.Ljt)(a,"class","form-check-label"),(0,r.Ljt)(n,"class","form-check"),(0,r.Ljt)(t,"class","list-group-item")},m(i,o){(0,r.$Tr)(i,t,o),(0,r.R3I)(t,n),(0,r.R3I)(n,a),(0,r.R3I)(a,l),(0,r.R3I)(a,s),(0,r.R3I)(a,c),u||(d=(0,r.oLt)(l,"change",e[14]),u=!0)},p(e,t){1&t&&i!==(i=e[0].key)&&(0,r.Ljt)(l,"name",i),2&t&&o!==(o=e[1]?"checked":"")&&(l.checked=o),1&t&&f!==(f=e[0].label+"")&&(0,r.rTO)(c,f)},d(e){e&&(0,r.ogt)(t),u=!1,d()}}}function Ne(e){let t,n,a,l,i,o,s,c=e[26].label+"";function u(){return e[20](e[26])}return{c(){t=(0,r.bGB)("button"),n=(0,r.fLW)(c),a=(0,r.DhX)(),(0,r.Ljt)(t,"class","dropdown-item"),(0,r.Ljt)(t,"name",l=e[0].key),t.value=i=e[26].key,(0,r.Ljt)(t,"type","button")},m(e,l){(0,r.$Tr)(e,t,l),(0,r.R3I)(t,n),(0,r.R3I)(t,a),o||(s=(0,r.oLt)(t,"click",u),o=!0)},p(a,o){e=a,1&o&&c!==(c=e[26].label+"")&&(0,r.rTO)(n,c),1&o&&l!==(l=e[0].key)&&(0,r.Ljt)(t,"name",l),1&o&&i!==(i=e[26].key)&&(t.value=i)},d(e){e&&(0,r.ogt)(t),o=!1,s()}}}function Ue(e){let t,n;return{c(){t=(0,r.bGB)("div"),n=(0,r.fLW)(e[6]),(0,r.Ljt)(t,"class","invalid-feedback")},m(e,a){(0,r.$Tr)(e,t,a),(0,r.R3I)(t,n)},p(e,t){64&t&&(0,r.rTO)(n,e[6])},d(e){e&&(0,r.ogt)(t)}}}function Xe(e){let t;function n(e,t){return e[9]?_e:e[8]?De:e[5]?Oe:void 0}let a=n(e),l=a&&a(e);return{c(){l&&l.c(),t=(0,r.cSb)()},m(e,n){l&&l.m(e,n),(0,r.$Tr)(e,t,n)},p(e,[i]){a===(a=n(e))&&l?l.p(e,i):(l&&l.d(1),l=a&&a(e),l&&(l.c(),l.m(t.parentNode,t)))},i:r.ZTd,o:r.ZTd,d(e){l&&l.d(e),e&&(0,r.ogt)(t)}}}function He(e,t,n){let a,l,i,o,s,c;const u=(0,R.x)();let d,f,p,{allItems:b={}}=t,{item:g={}}=t,{value:h=null}=t,m=null;function y(e){e!==h&&u("change",e),i&&m.toggle()}function L(e,t){if(g.validateEmpty&&t&&!e){const e=b[g.validateOn];return"The field must not be empty "+(e?`if "${e.item.label}" is enabled`:"")}return g.validateUrl&&!N(e)?"The value must be a valid URL":null}function I(e){n(6,c=L(e,s))}return(0,R.H3)((()=>{i&&(m=new Ee.Z.Dropdown(d),new Ee.Z.Tooltip(f,{title:p.outerHTML,customClass:"ml-1"}))})),e.$$set=e=>{"allItems"in e&&n(12,b=e.allItems),"item"in e&&n(0,g=e.item),"value"in e&&n(1,h=e.value)},e.$$.update=()=>{1&e.$$.dirty&&n(9,a="checkbox"===g.type),1&e.$$.dirty&&n(8,l="input"===g.type),1&e.$$.dirty&&n(5,i="dropdown"===g.type),1&e.$$.dirty&&n(7,o="mergeSearchProviders"===g.key?"search providers":"queries"),4097&e.$$.dirty&&n(13,s=b[g.validateOn]?.value??!0),8194&e.$$.dirty&&n(6,c=L(h,s))},[g,h,d,f,p,i,c,o,l,a,y,I,b,s,e=>y(e.target.checked),e=>c&&I(e.target.value),e=>I(e.target.value),e=>y(e.target.value),e=>e.key===h,function(e){r.VnY[e?"unshift":"push"]((()=>{d=e,n(2,d)}))},e=>y(e.key),function(e){r.VnY[e?"unshift":"push"]((()=>{f=e,n(3,f)}))},function(e){r.VnY[e?"unshift":"push"]((()=>{p=e,n(4,p)}))}]}class We extends r.f_C{constructor(e){super(),(0,r.S1n)(this,e,He,Xe,r.N8,{allItems:12,item:0,value:1})}}const qe=We;function Pe(e,t,n){const a=e.slice();return a[9]=t[n],a}function Ve(e,t){let n,a,l;return a=new qe({props:{item:t[9].item,value:t[9].value,allItems:t[0]}}),a.$on("change",(function(...e){return t[3](t[9],...e)})),{key:e,first:null,c(){n=(0,r.cSb)(),(0,r.YCL)(a.$$.fragment),this.first=n},m(e,t){(0,r.$Tr)(e,n,t),(0,r.yef)(a,e,t),l=!0},p(e,n){t=e;const l={};1&n&&(l.item=t[9].item),1&n&&(l.value=t[9].value),1&n&&(l.allItems=t[0]),a.$set(l)},i(e){l||((0,r.Ui)(a.$$.fragment,e),l=!0)},o(e){(0,r.etI)(a.$$.fragment,e),l=!1},d(e){e&&(0,r.ogt)(n),(0,r.vpE)(a,e)}}}function Me(e){let t,n,a=[],l=new Map,i=Object.values(e[0]);const o=e=>e[9].item.key;for(let t=0;t<i.length;t+=1){let n=Pe(e,i,t),r=o(n);l.set(r,a[t]=Ve(r,n))}return{c(){t=(0,r.bGB)("div");for(let e=0;e<a.length;e+=1)a[e].c()},m(e,l){(0,r.$Tr)(e,t,l);for(let e=0;e<a.length;e+=1)a[e].m(t,null);n=!0},p(e,[n]){3&n&&(i=Object.values(e[0]),(0,r.dvw)(),a=(0,r.GQg)(a,n,o,1,e,i,l,t,r.cly,Ve,null,Pe),(0,r.gbL)())},i(e){if(!n){for(let e=0;e<i.length;e+=1)(0,r.Ui)(a[e]);n=!0}},o(e){for(let e=0;e<a.length;e+=1)(0,r.etI)(a[e]);n=!1},d(e){e&&(0,r.ogt)(t);for(let e=0;e<a.length;e+=1)a[e].d()}}}function Ze(e,t,n){const a=(0,R.x)();let{items:l=[]}=t,i={};async function r(e,t){await async function(e,t){const n=s().clone(await L.Z.getOne(u.SETTINGS))||{};n[e]=t,await L.Z.setOne(u.SETTINGS,n)}(e.key,t),c(e,t),a("updateMainConfiguration")}async function o(e){c(e,await async function(e){const t=await L.Z.getOne(u.SETTINGS)||{};return s().get(t,e)}(e.key))}function c(e,t){n(0,i={...i,[e.key]:{item:e,value:t}})}for(const e of l)o(e);return e.$$set=e=>{"items"in e&&n(2,l=e.items)},[i,r,l,(e,t)=>r(e.item,t.detail)]}class Ye extends r.f_C{constructor(e){super(),(0,r.S1n)(this,e,Ze,Me,r.N8,{items:2})}}const Qe=Ye;var Ke=n(204),Fe=n.n(Ke);function ze(e){let t,n,a,l,i,o,s,c,u,d,f,p,b,g,h,m,y,L,R,I,v,j,k,x,B,T,G,C,S,A,w,E;return{c(){t=(0,r.bGB)("div"),n=(0,r.bGB)("div"),a=(0,r.bGB)("h2"),a.textContent="Export/Import Search Options",l=(0,r.DhX)(),i=(0,r.bGB)("p"),i.textContent="Use Import and Export to share settings using a file. Otherwise, click\n      Edit to modify the settings manually. This requires knowing JSON\n      formatting well. We also recommend exporting a copy of your settings prior\n      to doing this.",o=(0,r.DhX)(),s=(0,r.bGB)("input"),c=(0,r.DhX)(),u=(0,r.bGB)("div"),d=(0,r.bGB)("button"),d.innerHTML='<i class="fas fa-file-import" aria-hidden="true"></i> Import',f=(0,r.DhX)(),p=(0,r.bGB)("button"),p.innerHTML='<i class="fas fa-file-export" aria-hidden="true"></i> Export',b=(0,r.DhX)(),g=(0,r.bGB)("button"),g.innerHTML='<i class="fas fa-edit" aria-hidden="true"></i> Edit manually',h=(0,r.DhX)(),m=(0,r.bGB)("div"),y=(0,r.bGB)("div"),L=(0,r.bGB)("div"),R=(0,r.bGB)("div"),I=(0,r.bGB)("h5"),I.textContent="Edit Changes",v=(0,r.DhX)(),j=(0,r.bGB)("button"),j.innerHTML='<span aria-hidden="true">×</span>',k=(0,r.DhX)(),x=(0,r.bGB)("div"),B=(0,r.bGB)("textarea"),T=(0,r.DhX)(),G=(0,r.bGB)("div"),C=(0,r.bGB)("button"),C.textContent="Discard",S=(0,r.DhX)(),A=(0,r.bGB)("button"),A.textContent="Save changes",(0,r.Ljt)(a,"class","text-center mt-3"),(0,r.Ljt)(s,"class","d-none"),(0,r.Ljt)(s,"type","file"),(0,r.Ljt)(d,"type","button"),(0,r.Ljt)(d,"class","btn btn-primary mr-2"),(0,r.Ljt)(p,"type","button"),(0,r.Ljt)(p,"class","btn btn-primary mr-2"),(0,r.Ljt)(g,"type","button"),(0,r.Ljt)(g,"class","btn btn-secondary"),(0,r.Ljt)(u,"class","text-right"),(0,r.Ljt)(n,"class","col-md-10 offset-md-1"),(0,r.Ljt)(t,"class","row"),(0,r.Ljt)(I,"class","modal-title"),(0,r.Ljt)(j,"type","button"),(0,r.Ljt)(j,"class","close"),(0,r.Ljt)(j,"aria-label","Close"),(0,r.Ljt)(R,"class","modal-header"),(0,r.Ljt)(B,"class","form-control text-monospace text-small"),(0,r.Ljt)(B,"rows","24"),B.value="        ",(0,r.Ljt)(x,"class","modal-body"),(0,r.Ljt)(C,"type","button"),(0,r.Ljt)(C,"class","btn btn-secondary"),(0,r.Ljt)(A,"type","button"),(0,r.Ljt)(A,"class","btn btn-success mr-2"),(0,r.Ljt)(G,"class","modal-footer"),(0,r.Ljt)(L,"class","modal-content"),(0,r.Ljt)(y,"class","modal-dialog modal-lg"),(0,r.Ljt)(m,"class","modal fade"),(0,r.Ljt)(m,"tabindex","-1"),(0,r.Ljt)(m,"role","dialog"),(0,r.Ljt)(m,"aria-labelledby","settingsEditModal"),(0,r.Ljt)(m,"aria-hidden","true")},m($,O){(0,r.$Tr)($,t,O),(0,r.R3I)(t,n),(0,r.R3I)(n,a),(0,r.R3I)(n,l),(0,r.R3I)(n,i),(0,r.R3I)(n,o),(0,r.R3I)(n,s),e[9](s),(0,r.R3I)(n,c),(0,r.R3I)(n,u),(0,r.R3I)(u,d),(0,r.R3I)(u,f),(0,r.R3I)(u,p),(0,r.R3I)(u,b),(0,r.R3I)(u,g),(0,r.$Tr)($,h,O),(0,r.$Tr)($,m,O),(0,r.R3I)(m,y),(0,r.R3I)(y,L),(0,r.R3I)(L,R),(0,r.R3I)(R,I),(0,r.R3I)(R,v),(0,r.R3I)(R,j),(0,r.R3I)(L,k),(0,r.R3I)(L,x),(0,r.R3I)(x,B),e[10](B),(0,r.R3I)(L,T),(0,r.R3I)(L,G),(0,r.R3I)(G,C),(0,r.R3I)(G,S),(0,r.R3I)(G,A),e[11](m),w||(E=[(0,r.oLt)(s,"change",e[5]),(0,r.oLt)(d,"click",e[6]),(0,r.oLt)(p,"click",e[4]),(0,r.oLt)(g,"click",e[7]),(0,r.oLt)(j,"click",e[3]),(0,r.oLt)(C,"click",e[3]),(0,r.oLt)(A,"click",e[8])],w=!0)},p:r.ZTd,i:r.ZTd,o:r.ZTd,d(n){n&&(0,r.ogt)(t),e[9](null),n&&(0,r.ogt)(h),n&&(0,r.ogt)(m),e[10](null),e[11](null),w=!1,(0,r.j7q)(E)}}}function Je(e,t,n){const a=(0,R.x)();let l,i,o,c=null;function u(){c.dispose()}async function d(e){try{const t=JSON.parse(e);if(confirm("The defined Merge Settings Options will not be applied. If you continue, all current settings will be overridden by the settings you are importing."))return await we.parseJSONFile(t,!0),a("updateMainConfiguration"),D().Notify.Success("New configuration saved"),!0}catch(e){return console.error(e),D().Notify.Failure("Configuration couldn't be saved. Please verify that the file is valid."),!1}}return[l,i,o,u,async function(){const e=await we.generateJSONFile(),t=document.createElement("a"),n=new Blob([JSON.stringify(e)],{type:"text/plain;charset=utf-8"}),a=URL.createObjectURL(n);t.href=a,t.download=y,document.body.appendChild(t),t.click(),document.body.removeChild(t)},function(e){const t=s().first(this.files),n=new FileReader;n.onload=async function(e){await d(e.target.result)},n.readAsText(t),e.target.value=""},function(){l.click()},async function(){await async function(e){o&&(s().isNil(e)&&(e=await we.generateJSONFile()),n(2,o.value=Fe()(JSON.stringify(e),{indent_size:2}),o))}(),c=new Ee.Z.Modal(i),c.show()},async function(){await d(o.value)&&u()},function(e){r.VnY[e?"unshift":"push"]((()=>{l=e,n(0,l)}))},function(e){r.VnY[e?"unshift":"push"]((()=>{o=e,n(2,o)}))},function(e){r.VnY[e?"unshift":"push"]((()=>{i=e,n(1,i)}))}]}class et extends r.f_C{constructor(e){super(),(0,r.S1n)(this,e,Je,ze,r.N8,{})}}const tt=et;function nt(e){let t,n;return{c(){t=(0,r.bGB)("div"),n=(0,r.fLW)(e[1]),(0,r.Ljt)(t,"class","text-danger")},m(e,a){(0,r.$Tr)(e,t,a),(0,r.R3I)(t,n)},p(e,t){2&t&&(0,r.rTO)(n,e[1])},d(e){e&&(0,r.ogt)(t)}}}function at(e){let t,n,a,l,i,o,s,c,u,f,p,b,h,y,L,R,I,v,j,k,x,B,T,G,C,S,A,w,E,$,O,D,_,N,U,X,H;u=new Qe({props:{items:d}}),u.$on("updateMainConfiguration",e[4]);let W=!!e[1]&&nt(e);return C=new Qe({props:{items:m}}),C.$on("updateMainConfiguration",e[5]),D=new Qe({props:{items:g}}),D.$on("updateMainConfiguration",e[6]),N=new tt({}),N.$on("updateMainConfiguration",e[7]),{c(){t=(0,r.bGB)("div"),n=(0,r.bGB)("form"),a=(0,r.bGB)("div"),l=(0,r.bGB)("div"),i=(0,r.bGB)("div"),o=(0,r.bGB)("h2"),o.textContent="Configuration File Options",s=(0,r.DhX)(),c=(0,r.bGB)("ul"),(0,r.YCL)(u.$$.fragment),f=(0,r.DhX)(),p=(0,r.bGB)("li"),b=(0,r.bGB)("div"),h=(0,r.bGB)("label"),h.textContent="Last Updated on:",y=(0,r.DhX)(),L=(0,r.bGB)("div"),R=(0,r.fLW)(e[0]),I=(0,r.DhX)(),W&&W.c(),v=(0,r.DhX)(),j=(0,r.bGB)("div"),k=(0,r.bGB)("button"),k.innerHTML='<i class="fas fa-sync"></i> Update Now',x=(0,r.DhX)(),B=(0,r.bGB)("div"),T=(0,r.bGB)("h2"),T.textContent="Search Results Options",G=(0,r.DhX)(),(0,r.YCL)(C.$$.fragment),S=(0,r.DhX)(),A=(0,r.bGB)("div"),w=(0,r.bGB)("h2"),w.textContent="Merge Settings Options",E=(0,r.DhX)(),$=(0,r.bGB)("p"),$.textContent="The Merge Settings Options will only be applied when you update using\n          the Configuration File Options, not when you import using the\n          Export/Import Search Options.",O=(0,r.DhX)(),(0,r.YCL)(D.$$.fragment),_=(0,r.DhX)(),(0,r.YCL)(N.$$.fragment),(0,r.Ljt)(o,"class","mb-3"),(0,r.Ljt)(h,"class","mb-1"),(0,r.Ljt)(h,"for","last-updated-on"),(0,r.Ljt)(L,"id","last-updated-on"),(0,r.Ljt)(b,"class","flex-1"),(0,r.Ljt)(k,"type","button"),(0,r.Ljt)(k,"class","btn btn-success"),(0,r.Ljt)(p,"class","list-group-item d-flex"),(0,r.Ljt)(c,"class","list-group"),(0,r.Ljt)(T,"class","mb-3"),(0,r.Ljt)(B,"class","mt-4"),(0,r.Ljt)(l,"class","col-lg-6"),(0,r.Ljt)(w,"class","mb-2"),(0,r.Ljt)(A,"class","col-lg-6"),(0,r.Ljt)(a,"class","row"),(0,r.Ljt)(n,"name","settings")},m(d,g){(0,r.$Tr)(d,t,g),(0,r.R3I)(t,n),(0,r.R3I)(n,a),(0,r.R3I)(a,l),(0,r.R3I)(l,i),(0,r.R3I)(i,o),(0,r.R3I)(i,s),(0,r.R3I)(i,c),(0,r.yef)(u,c,null),(0,r.R3I)(c,f),(0,r.R3I)(c,p),(0,r.R3I)(p,b),(0,r.R3I)(b,h),(0,r.R3I)(b,y),(0,r.R3I)(b,L),(0,r.R3I)(L,R),(0,r.R3I)(b,I),W&&W.m(b,null),(0,r.R3I)(p,v),(0,r.R3I)(p,j),(0,r.R3I)(j,k),(0,r.R3I)(l,x),(0,r.R3I)(l,B),(0,r.R3I)(B,T),(0,r.R3I)(B,G),(0,r.yef)(C,B,null),(0,r.R3I)(a,S),(0,r.R3I)(a,A),(0,r.R3I)(A,w),(0,r.R3I)(A,E),(0,r.R3I)(A,$),(0,r.R3I)(A,O),(0,r.yef)(D,A,null),(0,r.R3I)(t,_),(0,r.yef)(N,t,null),U=!0,X||(H=(0,r.oLt)(k,"click",e[3]),X=!0)},p(e,[t]){(!U||1&t)&&(0,r.rTO)(R,e[0]),e[1]?W?W.p(e,t):(W=nt(e),W.c(),W.m(b,null)):W&&(W.d(1),W=null)},i(e){U||((0,r.Ui)(u.$$.fragment,e),(0,r.Ui)(C.$$.fragment,e),(0,r.Ui)(D.$$.fragment,e),(0,r.Ui)(N.$$.fragment,e),U=!0)},o(e){(0,r.etI)(u.$$.fragment,e),(0,r.etI)(C.$$.fragment,e),(0,r.etI)(D.$$.fragment,e),(0,r.etI)(N.$$.fragment,e),U=!1},d(e){e&&(0,r.ogt)(t),(0,r.vpE)(u),W&&W.d(),(0,r.vpE)(C),(0,r.vpE)(D),(0,r.vpE)(N),X=!1,H()}}}function lt(e,t,n){const a=(0,R.x)();let l,i;function r(e){e||o(),a("updateMainConfiguration",e)}async function o(){var e=await L.Z.getOne(u.LAST_CONFIG_DATA);let t=s().get(e,"date","-");n(1,i=s().get(e,"errorMsg","")),n(0,l=I.ou.fromSeconds(t/1e3).toLocaleString(I.ou.DATETIME_SHORT_WITH_SECONDS))}return(0,R.H3)((()=>{o()})),[l,i,r,async function(){await we.updateNow()?(r(),D().Notify.Success("The settings were refreshed")):(o(),D().Notify.Failure("The settings couldn't be updated, please check the URL or the file content"))},()=>r(!0),()=>r(!0),()=>r(!0),()=>r(!1)]}class it extends r.f_C{constructor(e){super(),(0,r.S1n)(this,e,lt,at,r.N8,{})}}const rt=it,ot=function(e,t){const n={rsaAutofillerParser:function(e){try{if(!s().isEmpty(e)){var t=0==e.search(/https:/),n=e.match(/:\/\/([^:/?]*)(:(\d+)|[/?])/);return[{key:"RSAConfigEnable",value:!0},{key:"RSAConfigUseHttps",value:t},{key:"RSAConfigHost",value:n&&n[1]?n[1]:""},{key:"RSAConfigPort",value:n&&n[3]?n[3]:""},{key:"RSAConfigDevId",value:(n=e.match(/investigation\/([^/]*)\//))&&n[1]?n[1]:""}]}}catch(e){}return null},nwiAutofillerParser:function(e){try{if(!s().isEmpty(e)){var t=e.match(/:\/\/([^:/?]*)(:(\d+)|[/?])/);return[{key:"NWIConfigEnable",value:!0},{key:"NWIConfigHost",value:t&&t[1]?t[1]:""},{key:"NWIConfigPort",value:t&&t[3]?t[3]:""},{key:"NWIConfigCollectionName",value:(t=e.match(/collection=([^&]*)/))&&t[1]?t[1]:""}]}}catch(e){}return null},_updateLocalStoreData:async function(e,n,a){var l=await L.Z.getOne(t)||{},i=l[e]||{};a?i=n:s().forEach(n,(function(e){i[e.key]=e.value})),l[e]=i,await L.Z.setOne(t,l),chrome.runtime.sendMessage({action:"updateContextualMenu"})},_undoChanges:async function(a,l,i){if(confirm(`Are you sure you want to undo all recents changes on ${l}?`)){var r=e[t];await n._updateLocalStoreData(a,r[a],!0),i(),D().Notify.Success(`Recent changes on ${l} were undo`)}}};return n};function st(e,t,n){const a=e.slice();return a[12]=t[n],a[14]=n,a}function ct(e){let t,n,a,l,i,o,s,c,u,d,f,p,b,g=e[12].label+"";return{c(){t=(0,r.bGB)("div"),n=(0,r.bGB)("label"),a=(0,r.fLW)(g),i=(0,r.DhX)(),o=(0,r.bGB)("input"),(0,r.Ljt)(n,"class","mb-0"),(0,r.Ljt)(n,"for",l="subSettings_"+e[12].key),(0,r.Ljt)(o,"type",s=e[12].type),(0,r.Ljt)(o,"class","form-control"),(0,r.Ljt)(o,"name",c=e[12].key),(0,r.Ljt)(o,"id",u="subSettings_"+e[12].key),(0,r.Ljt)(o,"placeholder",d=e[12].placeholder),o.value=f=e[12].value,(0,r.Ljt)(t,"class","mt-2")},m(l,s){(0,r.$Tr)(l,t,s),(0,r.R3I)(t,n),(0,r.R3I)(n,a),(0,r.R3I)(t,i),(0,r.R3I)(t,o),p||(b=(0,r.oLt)(o,"change",e[4]),p=!0)},p(e,t){4&t&&g!==(g=e[12].label+"")&&(0,r.rTO)(a,g),4&t&&l!==(l="subSettings_"+e[12].key)&&(0,r.Ljt)(n,"for",l),4&t&&s!==(s=e[12].type)&&(0,r.Ljt)(o,"type",s),4&t&&c!==(c=e[12].key)&&(0,r.Ljt)(o,"name",c),4&t&&u!==(u="subSettings_"+e[12].key)&&(0,r.Ljt)(o,"id",u),4&t&&d!==(d=e[12].placeholder)&&(0,r.Ljt)(o,"placeholder",d),4&t&&f!==(f=e[12].value)&&o.value!==f&&(o.value=f)},d(e){e&&(0,r.ogt)(t),p=!1,b()}}}function ut(e){let t,n,a,l,i,o,s,c,u,d,f,p,b,g=e[12].label+"";return{c(){t=(0,r.bGB)("div"),n=(0,r.bGB)("label"),a=(0,r.fLW)(g),i=(0,r.DhX)(),o=(0,r.bGB)("input"),(0,r.Ljt)(n,"class","mb-0"),(0,r.Ljt)(n,"for",l="autofiller_"+e[12].key),(0,r.Ljt)(o,"type",s=e[12].type),(0,r.Ljt)(o,"class","form-control"),(0,r.Ljt)(o,"name",c=e[12].key),(0,r.Ljt)(o,"id",u="autofiller_"+e[12].key),(0,r.Ljt)(o,"placeholder",d=e[12].placeholder),o.value=f=e[12].value,(0,r.Ljt)(t,"class","mt-2")},m(l,s){(0,r.$Tr)(l,t,s),(0,r.R3I)(t,n),(0,r.R3I)(n,a),(0,r.R3I)(t,i),(0,r.R3I)(t,o),p||(b=(0,r.oLt)(o,"change",e[3]),p=!0)},p(e,t){4&t&&g!==(g=e[12].label+"")&&(0,r.rTO)(a,g),4&t&&l!==(l="autofiller_"+e[12].key)&&(0,r.Ljt)(n,"for",l),4&t&&s!==(s=e[12].type)&&(0,r.Ljt)(o,"type",s),4&t&&c!==(c=e[12].key)&&(0,r.Ljt)(o,"name",c),4&t&&u!==(u="autofiller_"+e[12].key)&&(0,r.Ljt)(o,"id",u),4&t&&d!==(d=e[12].placeholder)&&(0,r.Ljt)(o,"placeholder",d),4&t&&f!==(f=e[12].value)&&o.value!==f&&(o.value=f)},d(e){e&&(0,r.ogt)(t),p=!1,b()}}}function dt(e){let t,n,a,l,i,o,s,c,u,d,f,p=e[12].label+"";return{c(){t=(0,r.bGB)("div"),n=(0,r.bGB)("input"),o=(0,r.DhX)(),s=(0,r.bGB)("label"),c=(0,r.fLW)(p),(0,r.Ljt)(n,"type","checkbox"),(0,r.Ljt)(n,"class","form-check-input"),(0,r.Ljt)(n,"name",a=e[12].key),(0,r.Ljt)(n,"id",l="checkbox_"+e[12].key),n.checked=i=e[12].checked?"checked":"",n.value="yes",(0,r.Ljt)(s,"class","form-check-label"),(0,r.Ljt)(s,"for",u="checkbox_"+e[12].key),(0,r.Ljt)(t,"class","form-check my-3")},m(a,l){(0,r.$Tr)(a,t,l),(0,r.R3I)(t,n),(0,r.R3I)(t,o),(0,r.R3I)(t,s),(0,r.R3I)(s,c),d||(f=(0,r.oLt)(n,"click",e[4]),d=!0)},p(e,t){4&t&&a!==(a=e[12].key)&&(0,r.Ljt)(n,"name",a),4&t&&l!==(l="checkbox_"+e[12].key)&&(0,r.Ljt)(n,"id",l),4&t&&i!==(i=e[12].checked?"checked":"")&&(n.checked=i),4&t&&p!==(p=e[12].label+"")&&(0,r.rTO)(c,p),4&t&&u!==(u="checkbox_"+e[12].key)&&(0,r.Ljt)(s,"for",u)},d(e){e&&(0,r.ogt)(t),d=!1,f()}}}function ft(e,t){let n,a;function l(e,t){return e[12].isCheckbox?dt:e[12].autofiller?ut:ct}let i=l(t),o=i(t);return{key:e,first:null,c(){n=(0,r.bGB)("div"),o.c(),a=(0,r.DhX)(),(0,r.Ljt)(n,"class","col-md-6 align-self-end"),this.first=n},m(e,t){(0,r.$Tr)(e,n,t),o.m(n,null),(0,r.R3I)(n,a)},p(e,r){i===(i=l(t=e))&&o?o.p(t,r):(o.d(1),o=i(t),o&&(o.c(),o.m(n,a)))},d(e){e&&(0,r.ogt)(n),o.d()}}}function pt(e){let t,n,a,l,i,o,s,c,u,d,f,p=[],b=new Map,g=e[2];const h=e=>e[12];for(let t=0;t<g.length;t+=1){let n=st(e,g,t),a=h(n);b.set(a,p[t]=ft(a,n))}return{c(){t=(0,r.bGB)("h2"),n=(0,r.fLW)(e[1]),a=(0,r.DhX)(),l=(0,r.bGB)("form"),i=(0,r.bGB)("div");for(let e=0;e<p.length;e+=1)p[e].c();o=(0,r.DhX)(),s=(0,r.bGB)("div"),c=(0,r.bGB)("button"),c.innerHTML='<i class="fas fa-undo" aria-hidden="true"></i> Undo recent changes',(0,r.Ljt)(i,"class","row"),(0,r.Ljt)(c,"type","reset"),(0,r.Ljt)(c,"class","btn btn-outline-danger"),(0,r.Ljt)(s,"class","text-right"),(0,r.Ljt)(l,"name",u=e[0]+"Config")},m(u,b){(0,r.$Tr)(u,t,b),(0,r.R3I)(t,n),(0,r.$Tr)(u,a,b),(0,r.$Tr)(u,l,b),(0,r.R3I)(l,i);for(let e=0;e<p.length;e+=1)p[e].m(i,null);(0,r.R3I)(l,o),(0,r.R3I)(l,s),(0,r.R3I)(s,c),d||(f=(0,r.oLt)(c,"click",e[5]),d=!0)},p(e,[t]){2&t&&(0,r.rTO)(n,e[1]),28&t&&(g=e[2],p=(0,r.GQg)(p,t,h,1,e,g,b,i,r.OCq,ft,null,st)),1&t&&u!==(u=e[0]+"Config")&&(0,r.Ljt)(l,"name",u)},i:r.ZTd,o:r.ZTd,d(e){e&&(0,r.ogt)(t),e&&(0,r.ogt)(a),e&&(0,r.ogt)(l);for(let e=0;e<p.length;e+=1)p[e].d();d=!1,f()}}}function bt(e,t,n){let{form:a=""}=t,{configTitle:l=""}=t,{initData:i={}}=t,{isRSA:r=!1}=t,{settings:o=[]}=t,{storageKey:c=null}=t,u=[];const d=ot(i,c);async function f(){var e=await L.Z.getOne(c)||{};n(2,u=s().map(o,(function(t){var n=s().get(e.config,t.key);return s().assignIn({isCheckbox:"checkbox"===t.type,value:n||"",checked:!0===n||"true"===n?"checked":"",placeholder:t.placeholder||""},t)})))}return(0,R.H3)((async()=>{await f()})),e.$$set=e=>{"form"in e&&n(0,a=e.form),"configTitle"in e&&n(1,l=e.configTitle),"initData"in e&&n(6,i=e.initData),"isRSA"in e&&n(7,r=e.isRSA),"settings"in e&&n(8,o=e.settings),"storageKey"in e&&n(9,c=e.storageKey)},[a,l,u,async function(e){var t=s().get(e,"target.value"),n=r?d.rsaAutofillerParser(t):d.nwiAutofillerParser(t);s().isEmpty(n)||(n.push({key:s().get(e,"target.name"),value:t}),await d._updateLocalStoreData("config",n),await f())},async function(e){const t=s().get(e,"target.name");s().isEmpty(t)||await d._updateLocalStoreData("config",[{key:t,value:"checkbox"===e.target.type?e.target.checked:e.target.value}])},async function(e){e.preventDefault(),d._undoChanges("config","configuration",f)},i,r,o,c,f]}class gt extends r.f_C{constructor(e){super(),(0,r.S1n)(this,e,bt,pt,r.N8,{form:0,configTitle:1,initData:6,isRSA:7,settings:8,storageKey:9,initialize:10})}get initialize(){return this.$$.ctx[10]}}const ht=gt;function mt(e,t,n){const a=e.slice();return a[34]=t[n],a[35]=t,a[36]=n,a}function yt(e){let t,n,a=e[2](e[36],"label")+"";return{c(){t=(0,r.bGB)("div"),n=(0,r.fLW)(a),(0,r.Ljt)(t,"class","invalid-feedback ml-1")},m(e,a){(0,r.$Tr)(e,t,a),(0,r.R3I)(t,n)},p(e,t){12&t[0]&&a!==(a=e[2](e[36],"label")+"")&&(0,r.rTO)(n,a)},d(e){e&&(0,r.ogt)(t)}}}function Lt(e){let t,n,a=e[2](e[36],"query")+"";return{c(){t=(0,r.bGB)("div"),n=(0,r.fLW)(a),(0,r.Ljt)(t,"class","invalid-feedback ml-1")},m(e,a){(0,r.$Tr)(e,t,a),(0,r.R3I)(t,n)},p(e,t){12&t[0]&&a!==(a=e[2](e[36],"query")+"")&&(0,r.rTO)(n,a)},d(e){e&&(0,r.ogt)(t)}}}function Rt(e){let t,n,a=e[1](e[36])+"";return{c(){t=(0,r.bGB)("div"),n=(0,r.fLW)(a),(0,r.Ljt)(t,"class","text-warning text-small ml-1 mt-1")},m(e,a){(0,r.$Tr)(e,t,a),(0,r.R3I)(t,n)},p(e,t){10&t[0]&&a!==(a=e[1](e[36])+"")&&(0,r.rTO)(n,a)},d(e){e&&(0,r.ogt)(t)}}}function It(e,t){let n,a,l,i,o,s,c,u,d,f,p,b,g,h,m,y,L,R,I,v,j,k,x,B,T,G,C,S,A,w,E,$,O,D=t[7](t[36],"label"),_=t[7](t[36],"query"),N=t[6](t[36]);function U(){t[18].call(s,t[35],t[36])}function X(...e){return t[19](t[36],...e)}function H(){return t[20](t[36],t[34])}let W=D&&yt(t);function q(){t[21].call(p,t[35],t[36])}function P(...e){return t[22](t[36],...e)}function V(){return t[23](t[36],t[34])}let M=_&&Lt(t),Z=N&&Rt(t);function Y(){return t[24](t[36])}return{key:e,first:null,c(){n=(0,r.bGB)("li"),a=(0,r.bGB)("div"),l=(0,r.bGB)("div"),l.innerHTML='<i class="fas fa-arrows-alt text-large" aria-hidden="true"></i>',i=(0,r.DhX)(),o=(0,r.bGB)("div"),s=(0,r.bGB)("input"),u=(0,r.DhX)(),W&&W.c(),d=(0,r.DhX)(),f=(0,r.bGB)("div"),p=(0,r.bGB)("input"),g=(0,r.DhX)(),M&&M.c(),h=(0,r.DhX)(),Z&&Z.c(),m=(0,r.DhX)(),y=(0,r.bGB)("div"),L=(0,r.bGB)("input"),j=(0,r.DhX)(),k=(0,r.bGB)("label"),x=(0,r.fLW)("Enabled"),T=(0,r.DhX)(),G=(0,r.bGB)("div"),C=(0,r.bGB)("button"),S=(0,r.bGB)("i"),A=(0,r.fLW)("\n              Delete"),(0,r.Ljt)(l,"class","sortable-handle p-2"),(0,r.Ljt)(s,"type","text"),(0,r.Ljt)(s,"class","form-control text-black"),(0,r.Ljt)(s,"placeholder","Label to be used in the context menu"),(0,r.Ljt)(s,"name",c="label_"+t[36]),(0,r.VHj)(s,"is-invalid",t[7](t[36],"label")),(0,r.Ljt)(o,"class","flex-1 mx-2"),(0,r.Ljt)(p,"type","text"),(0,r.Ljt)(p,"class","form-control text-info"),(0,r.Ljt)(p,"placeholder","Query to be used on the requests"),(0,r.Ljt)(p,"name",b="query_"+t[36]),(0,r.VHj)(p,"is-invalid",t[7](t[36],"query")),(0,r.Ljt)(f,"class","flex-2 mx-2"),(0,r.Ljt)(L,"type","checkbox"),L.value="yes",L.checked=R=t[34].enabled?"checked":"",(0,r.Ljt)(L,"class","form-check-input"),(0,r.Ljt)(L,"name",I=t[36]),(0,r.Ljt)(L,"id",v=t[0]+"_enabled_"+t[36]),(0,r.Ljt)(k,"class","form-check-label"),(0,r.Ljt)(k,"for",B=t[0]+"_enabled_"+t[36]),(0,r.Ljt)(y,"class","form-check mx-2"),(0,r.Ljt)(S,"class","fas fa-minus-circle"),(0,r.Ljt)(S,"aria-hidden","true"),(0,r.Ljt)(C,"type","button"),(0,r.Ljt)(C,"class","btn btn-outline-danger py-0 px-1"),(0,r.Ljt)(C,"title","Delete"),(0,r.Ljt)(C,"name",w="delete_"+t[36]),(0,r.Ljt)(a,"class","d-flex align-items-start"),(0,r.Ljt)(n,"class","list-group-item sortable pl-1 pr-2 py-3"),(0,r.Ljt)(n,"data-index",E=t[36]),this.first=n},m(e,c){(0,r.$Tr)(e,n,c),(0,r.R3I)(n,a),(0,r.R3I)(a,l),(0,r.R3I)(a,i),(0,r.R3I)(a,o),(0,r.R3I)(o,s),(0,r.BmG)(s,t[34].label),(0,r.R3I)(o,u),W&&W.m(o,null),(0,r.R3I)(a,d),(0,r.R3I)(a,f),(0,r.R3I)(f,p),(0,r.BmG)(p,t[34].query),(0,r.R3I)(f,g),M&&M.m(f,null),(0,r.R3I)(f,h),Z&&Z.m(f,null),(0,r.R3I)(a,m),(0,r.R3I)(a,y),(0,r.R3I)(y,L),(0,r.R3I)(y,j),(0,r.R3I)(y,k),(0,r.R3I)(k,x),(0,r.R3I)(a,T),(0,r.R3I)(a,G),(0,r.R3I)(G,C),(0,r.R3I)(C,S),(0,r.R3I)(C,A),$||(O=[(0,r.oLt)(s,"input",U),(0,r.oLt)(s,"input",X),(0,r.oLt)(s,"blur",H),(0,r.oLt)(s,"change",t[9]),(0,r.oLt)(p,"input",q),(0,r.oLt)(p,"input",P),(0,r.oLt)(p,"blur",V),(0,r.oLt)(p,"change",t[9]),(0,r.oLt)(L,"click",t[9]),(0,r.oLt)(C,"click",Y)],$=!0)},p(e,a){t=e,8&a[0]&&c!==(c="label_"+t[36])&&(0,r.Ljt)(s,"name",c),8&a[0]&&s.value!==t[34].label&&(0,r.BmG)(s,t[34].label),136&a[0]&&(0,r.VHj)(s,"is-invalid",t[7](t[36],"label")),136&a[0]&&(D=t[7](t[36],"label")),D?W?W.p(t,a):(W=yt(t),W.c(),W.m(o,null)):W&&(W.d(1),W=null),8&a[0]&&b!==(b="query_"+t[36])&&(0,r.Ljt)(p,"name",b),8&a[0]&&p.value!==t[34].query&&(0,r.BmG)(p,t[34].query),136&a[0]&&(0,r.VHj)(p,"is-invalid",t[7](t[36],"query")),136&a[0]&&(_=t[7](t[36],"query")),_?M?M.p(t,a):(M=Lt(t),M.c(),M.m(f,h)):M&&(M.d(1),M=null),72&a[0]&&(N=t[6](t[36])),N?Z?Z.p(t,a):(Z=Rt(t),Z.c(),Z.m(f,null)):Z&&(Z.d(1),Z=null),8&a[0]&&R!==(R=t[34].enabled?"checked":"")&&(L.checked=R),8&a[0]&&I!==(I=t[36])&&(0,r.Ljt)(L,"name",I),9&a[0]&&v!==(v=t[0]+"_enabled_"+t[36])&&(0,r.Ljt)(L,"id",v),9&a[0]&&B!==(B=t[0]+"_enabled_"+t[36])&&(0,r.Ljt)(k,"for",B),8&a[0]&&w!==(w="delete_"+t[36])&&(0,r.Ljt)(C,"name",w),8&a[0]&&E!==(E=t[36])&&(0,r.Ljt)(n,"data-index",E)},d(e){e&&(0,r.ogt)(n),W&&W.d(),M&&M.d(),Z&&Z.d(),$=!1,(0,r.j7q)(O)}}}function vt(e){let t,n,a=e[2]("newLabel","label")+"";return{c(){t=(0,r.bGB)("div"),n=(0,r.fLW)(a),(0,r.Ljt)(t,"class","invalid-feedback ml-1")},m(e,a){(0,r.$Tr)(e,t,a),(0,r.R3I)(t,n)},p(e,t){4&t[0]&&a!==(a=e[2]("newLabel","label")+"")&&(0,r.rTO)(n,a)},d(e){e&&(0,r.ogt)(t)}}}function jt(e){let t,n,a=e[1]("newQuery")+"";return{c(){t=(0,r.bGB)("div"),n=(0,r.fLW)(a),(0,r.Ljt)(t,"class","text-warning text-small ml-1 mt-1")},m(e,a){(0,r.$Tr)(e,t,a),(0,r.R3I)(t,n)},p(e,t){2&t[0]&&a!==(a=e[1]("newQuery")+"")&&(0,r.rTO)(n,a)},d(e){e&&(0,r.ogt)(t)}}}function kt(e){let t,n,a=e[2]("newQuery","query")+"";return{c(){t=(0,r.bGB)("div"),n=(0,r.fLW)(a),(0,r.Ljt)(t,"class","invalid-feedback ml-1")},m(e,a){(0,r.$Tr)(e,t,a),(0,r.R3I)(t,n)},p(e,t){4&t[0]&&a!==(a=e[2]("newQuery","query")+"")&&(0,r.rTO)(n,a)},d(e){e&&(0,r.ogt)(t)}}}function xt(e){let t,n,a,l,i,o,s,c,u,d,f,p,b,g,h,m,y,L,R,I,v,j,k,x,B,T,G,C,S,A=[],w=new Map,E=e[7]("newLabel","label"),$=e[3];const O=e=>e[34];for(let t=0;t<$.length;t+=1){let n=mt(e,$,t),a=O(n);w.set(a,A[t]=It(a,n))}let D=E&&vt(e);function _(e,t){return 128&t[0]&&(y=null),64&t[0]&&(L=null),null==y&&(y=!!e[7]("newQuery","query")),y?kt:(null==L&&(L=!!e[6]("newQuery")),L?jt:void 0)}let N=_(e,[-1,-1]),U=N&&N(e);return{c(){t=(0,r.bGB)("h3"),t.textContent="Manage Pivot Queries",n=(0,r.DhX)(),a=(0,r.bGB)("form"),l=(0,r.bGB)("ul");for(let e=0;e<A.length;e+=1)A[e].c();i=(0,r.DhX)(),o=(0,r.bGB)("li"),s=(0,r.bGB)("div"),c=(0,r.bGB)("div"),c.innerHTML='<i class="fas fa-plus text-extra-large text-primary" aria-hidden="true"></i>',u=(0,r.DhX)(),d=(0,r.bGB)("div"),f=(0,r.bGB)("input"),p=(0,r.DhX)(),D&&D.c(),b=(0,r.DhX)(),g=(0,r.bGB)("div"),h=(0,r.bGB)("input"),m=(0,r.DhX)(),U&&U.c(),R=(0,r.DhX)(),I=(0,r.bGB)("div"),v=(0,r.bGB)("button"),v.innerHTML='<i class="fas fa-plus-circle" aria-hidden="true"></i>\n            Add new query',j=(0,r.DhX)(),k=(0,r.bGB)("div"),k.textContent="To add a new query, replace the search term with \"TESTSEARCH\" in your\n        query and copy the query to the 'Query' field below.",x=(0,r.DhX)(),B=(0,r.bGB)("div"),T=(0,r.bGB)("button"),T.innerHTML='<i class="fas fa-undo" aria-hidden="true"></i> Undo recent changes',(0,r.Ljt)(c,"class","px-2 py-3"),(0,r.Ljt)(f,"type","text"),(0,r.Ljt)(f,"class","form-control text-black"),(0,r.Ljt)(f,"placeholder","Label to be used in the context menu"),(0,r.Ljt)(f,"name","label_new"),(0,r.VHj)(f,"is-invalid",e[7]("newLabel","label")),(0,r.Ljt)(d,"class","flex-1 mx-2"),(0,r.Ljt)(h,"type","text"),(0,r.Ljt)(h,"class","form-control text-info"),(0,r.Ljt)(h,"placeholder","Query to be used on the requests"),(0,r.Ljt)(h,"name","query_new"),(0,r.VHj)(h,"is-invalid",e[7]("newQuery","query")),(0,r.Ljt)(g,"class","flex-2 mx-2"),(0,r.Ljt)(v,"type","button"),(0,r.Ljt)(v,"class","btn btn-success"),(0,r.Ljt)(v,"title","Add"),(0,r.Ljt)(v,"name","add_new"),(0,r.Ljt)(s,"class","d-flex align-items-start"),(0,r.Ljt)(k,"class","alert alert-info text-small py-1 px-2 mt-2 ml-1 mb-0"),(0,r.Ljt)(k,"role","alert"),(0,r.Ljt)(o,"class","list-group-item pl-1 pr-2"),(0,r.Ljt)(l,"class","list-group"),(0,r.Ljt)(T,"type","reset"),(0,r.Ljt)(T,"class","btn btn-outline-danger"),(0,r.Ljt)(B,"class","text-right mt-2"),(0,r.Ljt)(a,"name",G=e[0]+"Queries")},m(y,L){(0,r.$Tr)(y,t,L),(0,r.$Tr)(y,n,L),(0,r.$Tr)(y,a,L),(0,r.R3I)(a,l);for(let e=0;e<A.length;e+=1)A[e].m(l,null);(0,r.R3I)(l,i),(0,r.R3I)(l,o),(0,r.R3I)(o,s),(0,r.R3I)(s,c),(0,r.R3I)(s,u),(0,r.R3I)(s,d),(0,r.R3I)(d,f),(0,r.BmG)(f,e[5]),(0,r.R3I)(d,p),D&&D.m(d,null),(0,r.R3I)(s,b),(0,r.R3I)(s,g),(0,r.R3I)(g,h),(0,r.BmG)(h,e[4]),(0,r.R3I)(g,m),U&&U.m(g,null),(0,r.R3I)(s,R),(0,r.R3I)(s,I),(0,r.R3I)(I,v),(0,r.R3I)(o,j),(0,r.R3I)(o,k),(0,r.R3I)(a,x),(0,r.R3I)(a,B),(0,r.R3I)(B,T),C||(S=[(0,r.oLt)(f,"input",e[25]),(0,r.oLt)(f,"input",e[26]),(0,r.oLt)(f,"blur",e[27]),(0,r.oLt)(f,"change",e[9]),(0,r.oLt)(h,"input",e[28]),(0,r.oLt)(h,"input",e[29]),(0,r.oLt)(h,"blur",e[30]),(0,r.oLt)(h,"change",e[9]),(0,r.oLt)(v,"click",e[8]),(0,r.oLt)(T,"click",e[11])],C=!0)},p(e,t){5839&t[0]&&($=e[3],A=(0,r.GQg)(A,t,O,1,e,$,w,l,r.OCq,It,i,mt)),32&t[0]&&f.value!==e[5]&&(0,r.BmG)(f,e[5]),128&t[0]&&(0,r.VHj)(f,"is-invalid",e[7]("newLabel","label")),128&t[0]&&(E=e[7]("newLabel","label")),E?D?D.p(e,t):(D=vt(e),D.c(),D.m(d,null)):D&&(D.d(1),D=null),16&t[0]&&h.value!==e[4]&&(0,r.BmG)(h,e[4]),128&t[0]&&(0,r.VHj)(h,"is-invalid",e[7]("newQuery","query")),N===(N=_(e,t))&&U?U.p(e,t):(U&&U.d(1),U=N&&N(e),U&&(U.c(),U.m(g,null))),1&t[0]&&G!==(G=e[0]+"Queries")&&(0,r.Ljt)(a,"name",G)},i:r.ZTd,o:r.ZTd,d(e){e&&(0,r.ogt)(t),e&&(0,r.ogt)(n),e&&(0,r.ogt)(a);for(let e=0;e<A.length;e+=1)A[e].d();D&&D.d(),U&&U.d(),C=!1,(0,r.j7q)(S)}}}function Bt(e,t,n){let a,l,i,r,o,c,u,{initData:d={}}=t,{form:f=""}=t,{storageKey:p=null}=t,b={},g={};const h=ot(d,p);async function m(){n(3,a=s().get(await L.Z.getOne(p),"queries",[])),function(){for(var e=0;e<a.length;e++)v(e,"label",a[e].label),v(e,"query",a[e].query)}(),Y.bt.create(document.querySelector(`form[name="${f}Queries"] ul.list-group`),{handle:".sortable-handle",onEnd:y})}async function y(e){let t=s().get(await L.Z.getOne(p),"queries",[]);t.splice(e.newIndex,0,t.splice(e.oldIndex,1)[0]),await h._updateLocalStoreData("queries",t,!0),m()}async function I(e){if(confirm("Are you sure you want to remove this query?")){var t=s().get(await L.Z.getOne(p),"queries",[]);t.splice(e,1),await h._updateLocalStoreData("queries",t,!0),m(),D().Notify.Success("Query removed")}}function v(e,t,a,l){const i=a?null:`The ${t} must not be empty`,r=`${e}.${t}`,o="query"!=t||i||_(a)?null:"The query does not contain TESTSEARCH";i?l||n(16,b[r]=i,b):(delete b[r],n(16,b)),o?l||n(17,g[e]=o,g):(delete g[e],n(17,g))}return(0,R.H3)((async()=>{await m(),Y.bt.create(document.querySelector(`form[name="${f}Queries"] ul.list-group`),{handle:".sortable-handle",onEnd:y})})),e.$$set=e=>{"initData"in e&&n(13,d=e.initData),"form"in e&&n(0,f=e.form),"storageKey"in e&&n(14,p=e.storageKey)},e.$$.update=()=>{65536&e.$$.dirty[0]&&n(2,r=function(e,t){return b[`${e}.${t}`]}),4&e.$$.dirty[0]&&n(7,o=function(e,t){return!s().isEmpty(r(e,t))}),131072&e.$$.dirty[0]&&n(1,c=function(e){return g[e]}),2&e.$$.dirty[0]&&n(6,u=function(e){return!s().isEmpty(c(e))})},n(3,a=[]),n(5,l=""),n(4,i=""),[f,c,r,a,i,l,u,o,async function(){if(!l||!i)return v("newLabel","label",l),v("newQuery","query",i),void D().Notify.Failure("Some fields are invalid. The query couldn't be added.");var e=s().get(await L.Z.getOne(p),"queries",[]);e.push({menuIndex:-1,label:l,query:i,enabled:!0}),await h._updateLocalStoreData("queries",e,!0),n(5,l=""),n(4,i=""),delete g.newQuery,m(),D().Notify.Success("Query added successfully")},async function(e){if("checkbox"===e.target.type){const t=s().get(e,"target.name");n(3,a[t].enabled=e.target.checked,a)}await h._updateLocalStoreData("queries",a,!0)},I,function(){return h._undoChanges("queries","queries",m)},v,d,p,m,b,g,function(e,t){e[t].label=this.value,n(3,a)},(e,t)=>v(e,"label",t.target.value,!0),(e,t)=>v(e,"label",t.label),function(e,t){e[t].query=this.value,n(3,a)},(e,t)=>v(e,"query",t.target.value,!0),(e,t)=>v(e,"query",t.query),e=>I(e),function(){l=this.value,n(5,l)},e=>v("newLabel","label",e.target.value,!0),()=>v("newLabel","label",l),function(){i=this.value,n(4,i)},e=>v("newQuery","query",e.target.value,!0),()=>v("newQuery","query",i)]}class Tt extends r.f_C{constructor(e){super(),(0,r.S1n)(this,e,Bt,xt,r.N8,{initData:13,form:0,storageKey:14,initialize:15},null,[-1,-1])}get initialize(){return this.$$.ctx[15]}}const Gt=Tt;function Ct(e){let t,n,a,l;const i=[e[2]];let o={};for(let e=0;e<i.length;e+=1)o=(0,r.f0i)(o,i[e]);t=new ht({props:o}),e[4](t);const s=[e[2]];let c={};for(let e=0;e<s.length;e+=1)c=(0,r.f0i)(c,s[e]);return a=new Gt({props:c}),e[5](a),{c(){(0,r.YCL)(t.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(a.$$.fragment)},m(e,i){(0,r.yef)(t,e,i),(0,r.$Tr)(e,n,i),(0,r.yef)(a,e,i),l=!0},p(e,[n]){const l=4&n?(0,r.LoY)(i,[(0,r.gCg)(e[2])]):{};t.$set(l);const o=4&n?(0,r.LoY)(s,[(0,r.gCg)(e[2])]):{};a.$set(o)},i(e){l||((0,r.Ui)(t.$$.fragment,e),(0,r.Ui)(a.$$.fragment,e),l=!0)},o(e){(0,r.etI)(t.$$.fragment,e),(0,r.etI)(a.$$.fragment,e),l=!1},d(l){e[4](null),(0,r.vpE)(t,l),l&&(0,r.ogt)(n),e[5](null),(0,r.vpE)(a,l)}}}function St(e,t,n){let a,l;return e.$$set=e=>{n(2,t=(0,r.f0i)((0,r.f0i)({},t),(0,r.Jvk)(e)))},t=(0,r.Jvk)(t),[a,l,t,function(){return Promise.all([a.initialize(),l.initialize()])},function(e){r.VnY[e?"unshift":"push"]((()=>{a=e,n(0,a)}))},function(e){r.VnY[e?"unshift":"push"]((()=>{l=e,n(1,l)}))}]}class At extends r.f_C{constructor(e){super(),(0,r.S1n)(this,e,St,Ct,r.N8,{updateForms:3})}get updateForms(){return this.$$.ctx[3]}}const wt=At;function Et(e){let t,n,a,l,i,o,s,c,d,b,g,m,y,L,R,I,v,j,k,B,T,G,C,S,A,w;n=new $({}),n.$on("tabClicked",e[6]),o=new rt({}),o.$on("updateMainConfiguration",e[7]),b=new Re({props:{}}),e[8](b),b.$on("updateMainConfiguration",e[7]);let E={configTitle:"RSA Security Analytics Configuration",form:"rsa",initData:e[5],isRSA:!0,settings:h,storageKey:u.RSA_SECURITY};L=new wt({props:E}),e[9](L);let O={configTitle:"NetWitness Investigator Configuration",form:"nwi",initData:e[5],settings:p,storageKey:u.NET_WITNESS};j=new wt({props:O}),e[10](j);let D={configTitle:"Carbon Black Configuration",form:"cbc",initData:e[5],settings:f,storageKey:u.CARBON_BLACK};return G=new wt({props:D}),e[11](G),A=new x({}),{c(){t=(0,r.bGB)("div"),(0,r.YCL)(n.$$.fragment),a=(0,r.DhX)(),l=(0,r.bGB)("main"),i=(0,r.bGB)("section"),(0,r.YCL)(o.$$.fragment),c=(0,r.DhX)(),d=(0,r.bGB)("section"),(0,r.YCL)(b.$$.fragment),m=(0,r.DhX)(),y=(0,r.bGB)("section"),(0,r.YCL)(L.$$.fragment),I=(0,r.DhX)(),v=(0,r.bGB)("section"),(0,r.YCL)(j.$$.fragment),B=(0,r.DhX)(),T=(0,r.bGB)("section"),(0,r.YCL)(G.$$.fragment),S=(0,r.DhX)(),(0,r.YCL)(A.$$.fragment),i.hidden=s="settings"!==e[0],d.hidden=g="search-providers"!==e[0],y.hidden=R="security-analytics"!==e[0],v.hidden=k="netwitness"!==e[0],T.hidden=C="carbon-black"!==e[0],(0,r.Ljt)(l,"class","container")},m(e,s){(0,r.$Tr)(e,t,s),(0,r.yef)(n,t,null),(0,r.R3I)(t,a),(0,r.R3I)(t,l),(0,r.R3I)(l,i),(0,r.yef)(o,i,null),(0,r.R3I)(l,c),(0,r.R3I)(l,d),(0,r.yef)(b,d,null),(0,r.R3I)(l,m),(0,r.R3I)(l,y),(0,r.yef)(L,y,null),(0,r.R3I)(l,I),(0,r.R3I)(l,v),(0,r.yef)(j,v,null),(0,r.R3I)(l,B),(0,r.R3I)(l,T),(0,r.yef)(G,T,null),(0,r.R3I)(t,S),(0,r.yef)(A,t,null),w=!0},p(e,[t]){(!w||1&t&&s!==(s="settings"!==e[0]))&&(i.hidden=s),b.$set({}),(!w||1&t&&g!==(g="search-providers"!==e[0]))&&(d.hidden=g),L.$set({}),(!w||1&t&&R!==(R="security-analytics"!==e[0]))&&(y.hidden=R),j.$set({}),(!w||1&t&&k!==(k="netwitness"!==e[0]))&&(v.hidden=k),G.$set({}),(!w||1&t&&C!==(C="carbon-black"!==e[0]))&&(T.hidden=C)},i(e){w||((0,r.Ui)(n.$$.fragment,e),(0,r.Ui)(o.$$.fragment,e),(0,r.Ui)(b.$$.fragment,e),(0,r.Ui)(L.$$.fragment,e),(0,r.Ui)(j.$$.fragment,e),(0,r.Ui)(G.$$.fragment,e),(0,r.Ui)(A.$$.fragment,e),w=!0)},o(e){(0,r.etI)(n.$$.fragment,e),(0,r.etI)(o.$$.fragment,e),(0,r.etI)(b.$$.fragment,e),(0,r.etI)(L.$$.fragment,e),(0,r.etI)(j.$$.fragment,e),(0,r.etI)(G.$$.fragment,e),(0,r.etI)(A.$$.fragment,e),w=!1},d(a){a&&(0,r.ogt)(t),(0,r.vpE)(n),(0,r.vpE)(o),e[8](null),(0,r.vpE)(b),e[9](null),(0,r.vpE)(L),e[10](null),(0,r.vpE)(j),e[11](null),(0,r.vpE)(G),(0,r.vpE)(A)}}}function $t(e,t,n){let a,l,i,o,c,d={};return(0,R.H3)((()=>{L.Z.get([u.CARBON_BLACK,u.NET_WITNESS,u.RSA_SECURITY,u.SEARCH_PROVIDERS,u.SETTINGS]).then((function(e){s().assign(d,e)}))})),[a,l,i,o,c,d,function(e){n(0,a=s().get(e,"detail"))},function(e){e&&s().get(e,"detail")||(l.updateForms(),i.updateForms(),o.updateForms(),c.updateForms()),chrome.runtime.sendMessage({action:"updateContextualMenu"})},function(e){r.VnY[e?"unshift":"push"]((()=>{l=e,n(1,l)}))},function(e){r.VnY[e?"unshift":"push"]((()=>{i=e,n(2,i)}))},function(e){r.VnY[e?"unshift":"push"]((()=>{o=e,n(3,o)}))},function(e){r.VnY[e?"unshift":"push"]((()=>{c=e,n(4,c)}))}]}class Ot extends r.f_C{constructor(e){super(),(0,r.S1n)(this,e,$t,Et,r.N8,{})}}new Ot({target:document.getElementById("options")})}},n={};function a(e){var l=n[e];if(void 0!==l)return l.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.m=t,e=[],a.O=(t,n,l,i)=>{if(!n){var r=1/0;for(u=0;u<e.length;u++){for(var[n,l,i]=e[u],o=!0,s=0;s<n.length;s++)(!1&i||r>=i)&&Object.keys(a.O).every((e=>a.O[e](n[s])))?n.splice(s--,1):(o=!1,i<r&&(r=i));if(o){e.splice(u--,1);var c=l();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,l,i]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.p="./",(()=>{var e={621:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var l,i,[r,o,s]=n,c=0;if(r.some((t=>0!==e[t]))){for(l in o)a.o(o,l)&&(a.m[l]=o[l]);if(s)var u=s(a)}for(t&&t(n);c<r.length;c++)i=r[c],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(u)},n=self.webpackChunkthreat_analytics_search=self.webpackChunkthreat_analytics_search||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a.nc=void 0;var l=a.O(void 0,[654,242,423,456],(()=>a(80)));l=a.O(l)})();
//# sourceMappingURL=options.js.map